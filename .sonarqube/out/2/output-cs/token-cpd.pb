ö

NC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Admin.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
Admin 
: 
AppUser 
{		 
public

 
Admin

 
(

 
)

 
{ 	
} 	
public 
Admin 
( 
ILazyLoader  

lazyLoader! +
)+ ,
:- .
base/ 3
(3 4

lazyLoader4 >
)> ?
{ 	
} 	
public 
ICollection 
< 
AdminNotify &
>& '
AdminNotifies( 5
{ 	
get 
=> 
base 
. 
	GetLoader !
(! "
)" #
.# $
Load$ (
(( )
this) -
,- .
ref/ 2
_adminNotifies3 A
)A B
;B C
set 
=> 
_adminNotifies !
=" #
value$ )
;) *
} 	
private 
ICollection 
< 
AdminNotify '
>' (
_adminNotifies) 7
;7 8
} 
} á
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\AdminNotify.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[ 
Serializable 
] 
[ 
DataContract 
] 
public 

class 
AdminNotify 
{ 
[ 	
Key	 
] 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
[ 	

DataMember	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	

DataMember	 
] 
public 
AdminNotifyTypes 
NotifyId! )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
[ 	

DataMember	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
public 
Admin 
Admin 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_admin- 3
)3 4
;4 5
set 
=> 
_admin 
= 
value !
;! "
} 	
private 
Admin 
_admin 
; 
private!! 
ILazyLoader!! 

LazyLoader!! &
{!!' (
get!!) ,
;!!, -
set!!. 1
;!!1 2
}!!3 4
public## 
AdminNotify## 
(## 
)## 
{$$ 	
}&& 	
public'' 
AdminNotify'' 
('' 
ILazyLoader'' &

lazyLoader''' 1
)''1 2
{(( 	

LazyLoader)) 
=)) 

lazyLoader)) #
;))# $
}** 	
}++ 
},, õ8
PC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\AppUser.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
AppUser 
{ 
[ 	
Key	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
	LoginName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 

DateJoined "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
AccessGroupId 
AccessGroup (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
IgnoredUser 
Ignored "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
Discriminator #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
ICollection 
< 
	PaperBook $
>$ %

BooksTaken& 0
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_booksTaken- 8
)8 9
;9 :
set 
=> 
_booksTaken 
=  
value! &
;& '
} 	
private 
ICollection 
< 
	PaperBook %
>% &
_booksTaken' 2
;2 3
public!! 
ICollection!! 
<!! 
DownloadHistory!! *
>!!* +
DownloadHistory!!, ;
{"" 	
get## 
=>## 

LazyLoader## 
.## 
Load## "
(##" #
this### '
,##' (
ref##) ,
_downloadHistory##- =
)##= >
;##> ?
set$$ 
=>$$ 
_downloadHistory$$ #
=$$$ %
value$$& +
;$$+ ,
}%% 	
private'' 
ICollection'' 
<'' 
DownloadHistory'' +
>''+ ,
_downloadHistory''- =
;''= >
public)) 
ICollection)) 
<)) 
UploadHistory)) (
>))( )
UploadHistory))* 7
{** 	
get++ 
=>++ 

LazyLoader++ 
.++ 
Load++ "
(++" #
this++# '
,++' (
ref++) ,
_uploadHistory++- ;
)++; <
;++< =
set,, 
=>,, 
_uploadHistory,, !
=,," #
value,,$ )
;,,) *
}-- 	
private// 
ICollection// 
<// 
UploadHistory// )
>//) *
_uploadHistory//+ 9
;//9 :
public11 
ICollection11 
<11 
RentHistory11 &
>11& '
RentHistory11( 3
{22 	
get33 
=>33 

LazyLoader33 
.33 
Load33 "
(33" #
this33# '
,33' (
ref33) ,
_rentHistory33- 9
)339 :
;33: ;
set44 
=>44 
_rentHistory44 
=44  !
value44" '
;44' (
}55 	
private66 
ICollection66 
<66 
RentHistory66 '
>66' (
_rentHistory66) 5
;665 6
public88 
ICollection88 
<88 
Review88 !
>88! "
Reviews88# *
{99 	
get:: 
=>:: 

LazyLoader:: 
.:: 
Load:: "
(::" #
this::# '
,::' (
ref::) ,
_reviews::- 5
)::5 6
;::6 7
set;; 
=>;; 
_reviews;; 
=;; 
value;; #
;;;# $
}<< 	
private== 
ICollection== 
<== 
Review== "
>==" #
_reviews==$ ,
;==, -
public?? 
ICollection?? 
<?? 
RequestBook?? &
>??& '
ReqestBooks??( 3
{@@ 	
getAA 
=>AA 

LazyLoaderAA 
.AA 
LoadAA "
(AA" #
thisAA# '
,AA' (
refAA) ,
_reqestBooksAA- 9
)AA9 :
;AA: ;
setBB 
=>BB 
_reqestBooksBB 
=BB  !
valueBB" '
;BB' (
}CC 	
privateDD 
ICollectionDD 
<DD 
RequestBookDD '
>DD' (
_reqestBooksDD) 5
;DD5 6
publicGG 
ICollectionGG 
<GG 

UserNotifyGG %
>GG% &
UserNotifiesGG' 3
{HH 	
getII 
=>II 

LazyLoaderII 
.II 
LoadII "
(II" #
thisII# '
,II' (
refII) ,
_userNotifiesII- :
)II: ;
;II; <
setJJ 
=>JJ 
_userNotifiesJJ  
=JJ! "
valueJJ# (
;JJ( )
}KK 	
privateLL 
ICollectionLL 
<LL 

UserNotifyLL &
>LL& '
_userNotifiesLL( 5
;LL5 6
publicNN 
ArrangementNN 
ArrangementNN &
{NN' (
getNN) ,
;NN, -
setNN. 1
;NN1 2
}NN3 4
privatePP 
ILazyLoaderPP 

LazyLoaderPP &
{PP' (
getPP) ,
;PP, -
setPP. 1
;PP1 2
}PP3 4
publicRR 
AppUserRR 
(RR 
)RR 
{RR 
}RR 
publicTT 
AppUserTT 
(TT 
ILazyLoaderTT "

lazyLoaderTT# -
)TT- .
{UU 	

LazyLoaderVV 
=VV 

lazyLoaderVV #
;VV# $
}WW 	
	protectedYY 
ILazyLoaderYY 
	GetLoaderYY '
(YY' (
)YY( )
{ZZ 	
return[[ 

LazyLoader[[ 
;[[ 
}\\ 	
}]] 
}^^ õ
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Arrangement.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[		 
DataContract		 
]		 
public

 

class

 
Arrangement

 
{ 
public 
AppUser 
AppUser 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Key	 
] 
public 
Guid 

AppUserUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
private 
ILazyLoader 

LazyLoader &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} Ø
OC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Author.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
Serializable 
] 
[ 
DataContract 
] 
public 

class 
Author 
{ 
[ 	
Key	 
] 
[ 	

DataMember	 
( 
EmitDefaultValue $
=% &
false' ,
), -
]- .
public 
Guid 
	AuthorUid 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	

DataMember	 
] 
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	

DataMember	 
] 
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public 
string 

MiddleName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
ICollection 
< 

BookAuthor %
>% &
Books' ,
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_books- 3
)3 4
;4 5
set 
=> 
_books 
= 
value !
;! "
}   	
private!! 
ICollection!! 
<!! 

BookAuthor!! &
>!!& '
_books!!( .
;!!. /
private## 
ILazyLoader## 

LazyLoader## &
{##' (
get##) ,
;##, -
set##. 1
;##1 2
}##3 4
public%% 
Author%% 
(%% 
)%% 
{&& 	
}'' 	
public(( 
Author(( 
((( 
ILazyLoader(( !

lazyLoader((" ,
)((, -
{)) 	

LazyLoader** 
=** 

lazyLoader** #
;**# $
}++ 	
},, 
}-- ®6
MC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Book.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
Serializable 
] 
[ 
DataContract 
] 
public 

class 
Book 
{ 
[ 	

DataMember	 
] 
public 
string 
Isbn 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Key	 
] 
[ 	

DataMember	 
( 
EmitDefaultValue $
=% &
false' ,
), -
]- .
public 
int 
BiaId 
{ 
get 
; 
set  #
;# $
}% &
[ 	

DataMember	 
] 
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
[ 	

DataMember	 
] 
public 
string 
Subtitle 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public   

LanguageId   
Language   "
{  # $
get  % (
;  ( )
set  * -
;  - .
}  / 0
["" 	

DataMember""	 
]"" 
public## 
int## 
?## 
Year## 
{## 
get## 
;## 
set##  #
;### $
}##% &
[%% 	

DataMember%%	 
(%% 
EmitDefaultValue%% $
=%%% &
false%%' ,
)%%, -
]%%- .
public&& 
int&& 
?&& 
Edition&& 
{&& 
get&& !
;&&! "
set&&# &
;&&& '
}&&( )
[(( 	

DataMember((	 
((( 
EmitDefaultValue(( $
=((% &
false((' ,
)((, -
]((- .
public)) 
int)) 
?)) 
Pages)) 
{)) 
get)) 
;))  
set))! $
;))$ %
}))& '
[++ 	

DataMember++	 
]++ 
public,, 
string,, 

CoverImage,,  
{,,! "
get,,# &
;,,& '
set,,( +
;,,+ ,
},,- .
[.. 	

DataMember..	 
].. 
public// 
string// 

Annotation//  
{//! "
get//# &
;//& '
set//( +
;//+ ,
}//- .
[11 	

DataMember11	 
(11 
EmitDefaultValue11 $
=11% &
false11' ,
)11, -
]11- .
public22 
int22 
AverageRating22  
{22! "
get22# &
;22& '
set22( +
;22+ ,
}22- .
public== 
ICollection== 
<== 

BookAuthor== %
>==% &
Authors==' .
{>> 	
get?? 
=>?? 

LazyLoader?? 
.?? 
Load?? "
(??" #
this??# '
,??' (
ref??) ,
_authors??- 5
)??5 6
;??6 7
set@@ 
=>@@ 
_authors@@ 
=@@ 
value@@ #
;@@# $
}AA 	
privateBB 
ICollectionBB 
<BB 

BookAuthorBB &
>BB& '
_authorsBB( 0
;BB0 1
publicDD 
virtualDD 
ICollectionDD "
<DD" #
BookCategoryDD# /
>DD/ 0
CathegoriesDD1 <
{EE 	
getFF 
=>FF 

LazyLoaderFF 
.FF 
LoadFF "
(FF" #
thisFF# '
,FF' (
refFF) ,
_CathegoriesFF- 9
)FF9 :
;FF: ;
setGG 
=>GG 
_CathegoriesGG 
=GG  !
valueGG" '
;GG' (
}HH 	
privateII 
ICollectionII 
<II 
BookCategoryII (
>II( )
_CathegoriesII* 6
;II6 7
publicKK 
ICollectionKK 
<KK 
ReviewKK !
>KK! "
ReviewsKK# *
{LL 	
getMM 
=>MM 

LazyLoaderMM 
.MM 
LoadMM "
(MM" #
thisMM# '
,MM' (
refMM) ,
_reviewsMM- 5
)MM5 6
;MM6 7
setNN 
=>NN 
_reviewsNN 
=NN 
valueNN #
;NN# $
}OO 	
privatePP 
ICollectionPP 
<PP 
ReviewPP "
>PP" #
_reviewsPP$ ,
;PP, -
publicRR 
ICollectionRR 
<RR 
RequestBookRR &
>RR& '
ReqestBooksRR( 3
{SS 	
getTT 
=>TT 

LazyLoaderTT 
.TT 
LoadTT "
(TT" #
thisTT# '
,TT' (
refTT) ,
_reqestBooksTT- 9
)TT9 :
;TT: ;
setUU 
=>UU 
_reqestBooksUU 
=UU  !
valueUU" '
;UU' (
}VV 	
privateWW 
ICollectionWW 
<WW 
RequestBookWW '
>WW' (
_reqestBooksWW) 5
;WW5 6
publicYY 
ICollectionYY 
<YY 
UploadHistoryYY (
>YY( )
UploadHistoryYY* 7
{ZZ 	
get[[ 
=>[[ 

LazyLoader[[ 
.[[ 
Load[[ "
([[" #
this[[# '
,[[' (
ref[[) ,
_uploadHistory[[- ;
)[[; <
;[[< =
set\\ 
=>\\ 
_uploadHistory\\ !
=\\" #
value\\$ )
;\\) *
}]] 	
private__ 
ICollection__ 
<__ 
UploadHistory__ )
>__) *
_uploadHistory__+ 9
;__9 :
privatebb 
ILazyLoaderbb 

LazyLoaderbb &
{bb' (
getbb) ,
;bb, -
setbb. 1
;bb1 2
}bb3 4
publicdd 
Bookdd 
(dd 
)dd 
{ee 	
}gg 	
publichh 
Bookhh 
(hh 
ILazyLoaderhh 

lazyLoaderhh  *
)hh* +
{ii 	

LazyLoaderjj 
=jj 

lazyLoaderjj #
;jj# $
}kk 	
	protectedmm 
ILazyLoadermm 
	GetLoadermm '
(mm' (
)mm( )
{nn 	
returnoo 

LazyLoaderoo 
;oo 
}pp 	
}qq 
}vv 
VC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\BookDbContext.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{		 
public 

class 
BookDbContext 
:  
	DbContext! *
{ 
public 
BookDbContext 
( 
DbContextOptions -
<- .
BookDbContext. ;
>; <
options= D
)D E
:F G
baseH L
(L M
optionsM T
)T U
{ 	
}
 
public 
DbSet 
< 
AppUser 
> 
AppUsers &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
Admin 
> 
Admins "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
Author 
> 
Authors $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
Review 
> 
Reviews $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
Category 
> 

Categories )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
DbSet 
< 

BookAuthor 
>  
BookAuthors! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
DbSet 
< 
DownloadHistory $
>$ %
DownloadHistories& 7
{8 9
get: =
;= >
set? B
;B C
}D E
public 
DbSet 
< 
UploadHistory "
>" #
UploadHistories$ 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
DbSet 
< 
Arrangement  
>  !
Arrangements" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
DbSet 
< 
Book 
> 
Books  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Ebook 
> 
Ebooks "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
	PaperBook 
> 

PaperBooks  *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public   
DbSet   
<   
RentHistory    
>    !
RentHistories  " /
{  0 1
get  2 5
;  5 6
set  7 :
;  : ;
}  < =
public!! 
DbSet!! 
<!! 
BookCategory!! !
>!!! "
BookCategories!!# 1
{!!2 3
get!!4 7
;!!7 8
set!!9 <
;!!< =
}!!> ?
public"" 
DbSet"" 
<"" 

UserNotify"" 
>""  
UserNotifies""! -
{"". /
get""0 3
;""3 4
set""5 8
;""8 9
}"": ;
public## 
DbSet## 
<## 
AdminNotify##  
>##  !
AdminNotifies##" /
{##0 1
get##2 5
;##5 6
set##7 :
;##: ;
}##< =
public$$ 
DbSet$$ 
<$$ 
IgnoredUser$$  
>$$  !
IgnoredUsers$$" .
{$$/ 0
get$$1 4
;$$4 5
set$$6 9
;$$9 :
}$$; <
public%% 
DbSet%% 
<%% 
RequestBook%%  
>%%  !
RequestBooks%%" .
{%%/ 0
get%%1 4
;%%4 5
set%%6 9
;%%9 :
}%%; <
	protected'' 
override'' 
void'' 
OnModelCreating''  /
(''/ 0
ModelBuilder''0 <
modelBuilder''= I
)''I J
{(( 	
modelBuilder)) 
.)) 
Entity)) 
<))  
Book))  $
>))$ %
())% &
)))& '
.** 
HasMany** 
(** 
b** 
=>** 
b** 
.**  
Reviews**  '
)**' (
.++ 
WithOne++ 
(++ 
r++ 
=>++ 
r++ 
.++  
Book++  $
)++$ %
.,, 
HasForeignKey,, 
(,, 
r,,  
=>,,! #
r,,$ %
.,,% &
BookId,,& ,
),,, -
;,,- .
modelBuilder.. 
... 
Entity.. 
<..  
Book..  $
>..$ %
(..% &
)..& '
.// 
HasMany// 
(// 
p// 
=>// 
p// 
.//  
Authors//  '
)//' (
.00 
WithOne00 
(00 
i00 
=>00 
i00 
.00  
Book00  $
)00$ %
;00% &
modelBuilder22 
.22 
Entity22 
<22  
Book22  $
>22$ %
(22% &
)22& '
.33 
HasMany33 
(33 
p33 
=>33 
p33 
.33  
ReqestBooks33  +
)33+ ,
.44 
WithOne44 
(44 
i44 
=>44 
i44 
.44  
Book44  $
)44$ %
;44% &
modelBuilder66 
.66 
Entity66 
<66  
	PaperBook66  )
>66) *
(66* +
)66+ ,
.77 
HasMany77 
(77 
p77 
=>77 
p77 
.77  
RentHistory77  +
)77+ ,
.88 
WithOne88 
(88 
i88 
=>88 
i88 
.88  
	TakenBook88  )
)88) *
;88* +
modelBuilder:: 
.:: 
Entity:: 
<::  
Ebook::  %
>::% &
(::& '
)::' (
.;; 
HasMany;; 
(;; 
p;; 
=>;; 
p;; 
.;;  
DownloadHistory;;  /
);;/ 0
.<< 
WithOne<< 
(<< 
i<< 
=><< 
i<< 
.<<  
DownloadedBook<<  .
)<<. /
;<</ 0
modelBuilder>> 
.>> 
Entity>> 
<>>  
AppUser>>  '
>>>' (
(>>( )
)>>) *
.?? 
HasMany?? 
(?? 
p?? 
=>?? 
p?? 
.??  
DownloadHistory??  /
)??/ 0
.@@ 
WithOne@@ 
(@@ 
i@@ 
=>@@ 
i@@ 
.@@  
User@@  $
)@@$ %
;@@% &
modelBuilderBB 
.BB 
EntityBB 
<BB  
AppUserBB  '
>BB' (
(BB( )
)BB) *
.CC 
HasManyCC 
(CC 
pCC 
=>CC 
pCC 
.CC  
RentHistoryCC  +
)CC+ ,
.DD 
WithOneDD 
(DD 
iDD 
=>DD 
iDD 
.DD  
UserDD  $
)DD$ %
;DD% &
modelBuilderFF 
.FF 
EntityFF 
<FF  
AppUserFF  '
>FF' (
(FF( )
)FF) *
.GG 
HasManyGG 
(GG 
iGG 
=>GG 
iGG 
.GG  

BooksTakenGG  *
)GG* +
.HH 
WithOneHH 
(HH 
pHH 
=>HH 
pHH 
.HH  
TakenByUserHH  +
)HH+ ,
;HH, -
modelBuilderJJ 
.JJ 
EntityJJ 
<JJ  
AppUserJJ  '
>JJ' (
(JJ( )
)JJ) *
.KK 
HasManyKK 
(KK 
iKK 
=>KK 
iKK 
.KK  
ReviewsKK  '
)KK' (
.LL 
WithOneLL 
(LL 
pLL 
=>LL 
pLL 
.LL  
RatedByLL  '
)LL' (
;LL( )
modelBuilderNN 
.NN 
EntityNN 
<NN  
AppUserNN  '
>NN' (
(NN( )
)NN) *
.OO 
HasManyOO 
(OO 
pOO 
=>OO 
pOO 
.OO  
ReqestBooksOO  +
)OO+ ,
.PP 
WithOnePP 
(PP 
iPP 
=>PP 
iPP 
.PP  
AppUserPP  '
)PP' (
;PP( )
modelBuilderRR 
.RR 
EntityRR 
<RR  
AppUserRR  '
>RR' (
(RR( )
)RR) *
.SS 
HasManySS 
(SS 
pSS 
=>SS 
pSS 
.SS  
UserNotifiesSS  ,
)SS, -
.TT 
WithOneTT 
(TT 
uTT 
=>TT 
uTT 
.TT  
AppUserTT  '
)TT' (
;TT( )
modelBuilderVV 
.VV 
EntityVV 
<VV  
AdminVV  %
>VV% &
(VV& '
)VV' (
.WW 
HasManyWW 
(WW 
pWW 
=>WW 
pWW 
.WW  
AdminNotifiesWW  -
)WW- .
.XX 
WithOneXX 
(XX 
aXX 
=>XX 
aXX 
.XX  
AdminXX  %
)XX% &
;XX& '
modelBuilderZZ 
.ZZ 
EntityZZ 
<ZZ  

BookAuthorZZ  *
>ZZ* +
(ZZ+ ,
)ZZ, -
.[[ 
HasKey[[ 
([[ 
ba[[ 
=>[[ 
new[[ !
{[[" #
ba[[$ &
.[[& '
BookId[[' -
,[[- .
ba[[/ 1
.[[1 2
	AuthorUid[[2 ;
}[[< =
)[[= >
;[[> ?
modelBuilder]] 
.]] 
Entity]] 
<]]  

BookAuthor]]  *
>]]* +
(]]+ ,
)]], -
.^^ 
HasOne^^ 
(^^ 
ba^^ 
=>^^ 
ba^^  
.^^  !
Book^^! %
)^^% &
.__ 
WithMany__ 
(__ 
a__ 
=>__ 
a__  
.__  !
Authors__! (
)__( )
.`` 
HasForeignKey`` 
(`` 
ba`` !
=>``" $
ba``% '
.``' (
BookId``( .
)``. /
;``/ 0
modelBuilderbb 
.bb 
Entitybb 
<bb  

BookAuthorbb  *
>bb* +
(bb+ ,
)bb, -
.cc 
HasOnecc 
(cc 
bacc 
=>cc 
bacc  
.cc  !
Authorcc! '
)cc' (
.dd 
WithManydd 
(dd 
add 
=>dd 
add  
.dd  !
Booksdd! &
)dd& '
.ee 
HasForeignKeyee 
(ee 
baee !
=>ee" $
baee% '
.ee' (
	AuthorUidee( 1
)ee1 2
;ee2 3
modelBuildergg 
.gg 
Entitygg 
<gg  
BookCategorygg  ,
>gg, -
(gg- .
)gg. /
.hh 
HasKeyhh 
(hh 
chh 
=>hh 
newhh  
{hh! "
chh# $
.hh$ %
BookIdhh% +
,hh+ ,
chh- .
.hh. /

CategoryIdhh/ 9
}hh: ;
)hh; <
;hh< =
modelBuilderjj 
.jj 
Entityjj 
<jj  
BookCategoryjj  ,
>jj, -
(jj- .
)jj. /
.kk 
HasOnekk 
(kk 
bakk 
=>kk 
bakk  
.kk  !
Bookkk! %
)kk% &
.ll 
WithManyll 
(ll 
all 
=>ll 
all  
.ll  !
Cathegoriesll! ,
)ll, -
.mm 
HasForeignKeymm 
(mm 
bamm !
=>mm" $
bamm% '
.mm' (
BookIdmm( .
)mm. /
;mm/ 0
modelBuilderoo 
.oo 
Entityoo 
<oo  
BookCategoryoo  ,
>oo, -
(oo- .
)oo. /
.pp 
HasOnepp 
(pp 
bapp 
=>pp 
bapp  
.pp  !
Categorypp! )
)pp) *
.qq 
WithManyqq 
(qq 
aqq 
=>qq 
aqq  
.qq  !
Booksqq! &
)qq& '
.rr 
HasForeignKeyrr 
(rr 
barr !
=>rr" $
barr% '
.rr' (

CategoryIdrr( 2
)rr2 3
;rr3 4
modelBuildertt 
.tt 
Entitytt 
<tt  

UserNotifytt  *
>tt* +
(tt+ ,
)tt, -
.uu 
HasKeyuu 
(uu 
rbuu 
=>uu 
newuu !
{uu" #
rbuu$ &
.uu& '
Uiduu' *
,uu* +
rbuu, .
.uu. /
BookIduu/ 5
}uu6 7
)uu7 8
;uu8 9
modelBuilderww 
.ww 
Entityww 
<ww  

UserNotifyww  *
>ww* +
(ww+ ,
)ww, -
.xx 
HasOnexx 
(xx 
unxx 
=>xx 
unxx  
.xx  !
AppUserxx! (
)xx( )
.yy 
WithManyyy 
(yy 
unyy 
=>yy 
unyy  "
.yy" #
UserNotifiesyy# /
)yy/ 0
.zz 
HasForeignKeyzz 
(zz 
unzz !
=>zz" $
unzz% '
.zz' (
Uidzz( +
)zz+ ,
;zz, -
modelBuilder|| 
.|| 
Entity|| 
<||  
RequestBook||  +
>||+ ,
(||, -
)||- .
.}} 
HasKey}} 
(}} 
rb}} 
=>}} 
new}} !
{}}" #
rb}}# %
.}}% &
BookId}}& ,
,}}, -
rb}}. 0
.}}0 1

AppUserUid}}1 ;
}}}< =
)}}= >
;}}> ?
modelBuilder 
. 
Entity 
<  
RequestBook  +
>+ ,
(, -
)- .
.
 
HasOne
 
(
 
ba
 
=>
 
ba
  
.
  !
Book
! %
)
% &
.
 
WithMany
 
(
 
a
 
=>
 
a
  
.
  !
ReqestBooks
! ,
)
, -
.
 
HasForeignKey
 
(
 
ba
 !
=>
" $
ba
% '
.
' (
BookId
( .
)
. /
;
/ 0
modelBuilder
 
.
 
Entity
 
<
  
RequestBook
  +
>
+ ,
(
, -
)
- .
.
 
HasOne
 
(
 
ba
 
=>
 
ba
  
.
  !
AppUser
! (
)
( )
.
 
WithMany
 
(
 
a
 
=>
 
a
  
.
  !
ReqestBooks
! ,
)
, -
.
 
HasForeignKey
 
(
 
ba
 !
=>
" $
ba
% '
.
' (

AppUserUid
( 2
)
2 3
;
3 4
modelBuilder
 
.
 
Entity
 
<
  
AppUser
  '
>
' (
(
( )
)
) *
.
 
HasOne
 
(
 
q
 
=>
 
q
 
.
 
Ignored
 &
)
& '
.
 
WithOne
 
(
 
q
 
=>
 
q
 
.
  
AppUser
  '
)
' (
.
 
HasForeignKey
 
<
 
IgnoredUser
 *
>
* +
(
+ ,
q
, -
=>
. 0
q
1 2
.
2 3

AppUserUid
3 =
)
= >
;
> ?
modelBuilder
 
.
 
Entity
 
<
  
AppUser
  '
>
' (
(
( )
)
) *
.
 
HasOne
 
(
 
q
 
=>
 
q
 
.
 
Arrangement
 *
)
* +
.
 
WithOne
 
(
 
q
 
=>
 
q
 
.
  
AppUser
  '
)
' (
.
 
HasForeignKey
 
<
 
Arrangement
 *
>
* +
(
+ ,
q
, -
=>
. 0
q
1 2
.
2 3

AppUserUid
3 =
)
= >
;
> ?
modelBuilder
 
.
 
Entity
 
<
  
UploadHistory
  -
>
- .
(
. /
)
/ 0
.
 
HasKey
 
(
 
c
 
=>
 
new
  
{
! "
c
# $
.
$ %

AppUserUid
% /
,
/ 0
c
1 2
.
2 3
BookId
3 9
}
: ;
)
; <
;
< =
modelBuilder
 
.
 
Entity
 
<
  
AppUser
  '
>
' (
(
( )
)
) *
.
* +
Property
+ 3
(
3 4
b
4 5
=>
6 8
b
9 :
.
: ;
Discriminator
; H
)
H I
.
I J
Metadata
J R
.
R S
AfterSaveBehavior
S d
=
e f"
PropertySaveBehavior
g {
.
{ |
Save| 
; 
}
 	
}
 
} %
]C:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\BookDbContextFactory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public		 

class		  
BookDbContextFactory		 %
:		& ''
IDesignTimeDbContextFactory		( C
<		C D
BookDbContext		D Q
>		Q R
{

 
private 
readonly 
string 
_connectionString  1
;1 2
public  
BookDbContextFactory #
(# $
)$ %
{ 	
} 	
public  
BookDbContextFactory #
(# $
string$ *
connectionString+ ;
); <
{ 	
_connectionString 
= 
connectionString  0
;0 1
} 	
public 
BookDbContext 
CreateDbContext ,
(, -
string- 3
[3 4
]4 5
args6 :
): ;
{ 	
var 
dbContextBuilder  
=! "
new# &#
DbContextOptionsBuilder' >
<> ?
BookDbContext? L
>L M
(M N
)N O
;O P
string !
migrationAssemblyName (
=) *
typeof+ 1
(1 2
BookDbContext2 ?
)? @
.@ A
	NamespaceA J
;J K
string 

connection 
= 
$str  r
;r s
if.. 
(.. 
string.. 
... 
IsNullOrWhiteSpace.. )
(..) *

connection..* 4
)..4 5
)..5 6

connection..7 A
=..B C
_connectionString..D U
;..U V
dbContextBuilder00 
.00 
UseMySql00 %
(00% &

connection00& 0
,000 1
optionsBuilder002 @
=>00A C
optionsBuilder00D R
.00R S
MigrationsAssembly00S e
(00e f!
migrationAssemblyName00f {
)00{ |
)00| }
;00} ~
return22 
new22 
BookDbContext22 $
(22$ %
dbContextBuilder22% 5
.225 6
Options226 =
)22= >
;22> ?
}33 	
public55 
BookDbContext55 
CreateDbContext55 ,
(55, -
)55- .
{66 	
return77 
new77 
BookDbContext77 $
(77$ %
new77% (#
DbContextOptionsBuilder77) @
<77@ A
BookDbContext77A N
>77N O
(77O P
)77P Q
.77Q R
UseMySql77R Z
(77Z [
_connectionString77[ l
)77l m
.77m n
Options77n u
)77u v
;77v w
}88 	
}99 
public;; 

class;; !
BookDbContextProvider;; &
{<< 
private== 
readonly== #
DbContextOptionsBuilder== 0
<==0 1
BookDbContext==1 >
>==> ?
_optionsBuilder==@ O
;==O P
private>> 
readonly>>  
BookDbContextFactory>> -
_factory>>. 6
;>>6 7
public@@ !
BookDbContextProvider@@ $
(@@$ %
string@@% +
connectionString@@, <
)@@< =
{AA 	
_optionsBuilderBB 
=BB 
newBB !#
DbContextOptionsBuilderBB" 9
<BB9 :
BookDbContextBB: G
>BBG H
(BBH I
)BBI J
;BBJ K
_optionsBuilderCC 
.CC 
UseMySqlCC $
(CC$ %
connectionStringCC% 5
)CC5 6
;CC6 7
_factoryDD 
=DD 
newDD  
BookDbContextFactoryDD /
(DD/ 0
)DD0 1
;DD1 2
}EE 	
publicGG 
DbContextOptionsGG 
<GG  
BookDbContextGG  -
>GG- .
OptionsGG/ 6
=>GG7 9
_optionsBuilderGG: I
.GGI J
OptionsGGJ Q
;GGQ R
publicII 
BookDbContextII 
CreateDbContextII ,
(II, -
)II- .
{JJ 	
returnKK 
newKK 
BookDbContextKK $
(KK$ %
_optionsBuilderKK% 4
.KK4 5
OptionsKK5 <
)KK< =
;KK= >
}LL 	
publicNN  
BookDbContextFactoryNN #"
GetRpsDbContextFactoryNN$ :
(NN: ;
)NN; <
{OO 	
returnPP 
_factoryPP 
;PP 
}QQ 	
}SS 
}TT Ï
QC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Category.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
DataContract 
] 
public 

class 
Category 
{ 
[ 	
Key	 
] 
[ 	

DataMember	 
] 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 

CategoryId 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	

DataMember	 
] 
public 
string 
CategoryName "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
ICollection 
< 
BookCategory '
>' (
Books) .
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_books- 3
)3 4
;4 5
set 
=> 
_books 
= 
value !
;! "
} 	
public 
ICollection 
< 
BookCategory '
>' (
_books) /
;/ 0
private 
ILazyLoader 

LazyLoader &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Category 
( 
) 
{   	
}"" 	
public## 
Category## 
(## 
ILazyLoader## #

lazyLoader##$ .
)##. /
{$$ 	

LazyLoader%% 
=%% 

lazyLoader%% #
;%%# $
}&& 	
}'' 
}(( 
XC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\DownloadHistory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
DownloadHistory  
{ 
[ 	
Key	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
public 
DateTime 
DownloadDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
AppUser 
User 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_user- 2
)2 3
;3 4
set 
=> 
_user 
= 
value  
;  !
} 	
private 
AppUser 
_user 
; 
public 
Ebook 
DownloadedBook #
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_downloadedBook- <
)< =
;= >
set 
=> 
_downloadedBook "
=# $
value% *
;* +
} 	
private 
Ebook 
_downloadedBook %
;% &
private 
ILazyLoader 

LazyLoader &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public!! 
DownloadHistory!! 
(!! 
)!!  
{"" 	
}$$ 	
public&& 
DownloadHistory&& 
(&& 
ILazyLoader&& *

lazyLoader&&+ 5
)&&5 6
{'' 	

LazyLoader(( 
=(( 

lazyLoader(( #
;((# $
})) 	
}++ 
},, å
NC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Ebook.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
Ebook 
: 
Book 
{		 
public

 
Ebook

 
(

 
)

 
{ 	
} 	
public 
Ebook 
( 
ILazyLoader  

lazyLoader! +
)+ ,
:- .
base/ 3
(3 4

lazyLoader4 >
)> ?
{ 	
} 	
public 
EbookFormatId 
EbookFormat (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
int 
? 
Size 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Link 
{ 
get  
;  !
set" %
;% &
}' (
public 
ICollection 
< 
DownloadHistory *
>* +
DownloadHistory, ;
{ 	
get 
=> 
base 
. 
	GetLoader !
(! "
)" #
.# $
Load$ (
(( )
this) -
,- .
ref/ 2
_downloadHistory3 C
)C D
;D E
set 
=> 
_downloadHistory #
=$ %
value& +
;+ ,
} 	
private 
ICollection 
< 
DownloadHistory +
>+ ,
_downloadHistory- =
;= >
} 
} è
fC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\EfManyToManyModels\BookAuthor.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
DataContract 
] 
public 

class 

BookAuthor 
{ 
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
Guid 
	AuthorUid 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_book- 2
)2 3
;3 4
set 
=> 
_book 
= 
value  
;  !
} 	
private 
Book 
_book 
; 
public 
Author 
Author 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_author- 4
)4 5
;5 6
set 
=> 
_author 
= 
value "
;" #
} 	
private   
Author   
_author   
;   
private"" 
ILazyLoader"" 

LazyLoader"" &
{""' (
get"") ,
;"", -
set"". 1
;""1 2
}""3 4
public$$ 

BookAuthor$$ 
($$ 
)$$ 
{%% 	
}'' 	
public(( 

BookAuthor(( 
((( 
ILazyLoader(( %

lazyLoader((& 0
)((0 1
{)) 	

LazyLoader** 
=** 

lazyLoader** #
;**# $
}++ 	
},, 
}-- ü
hC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\EfManyToManyModels\BookCategory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{		 
[ 
DataContract 
] 
public 

class 
BookCategory 
{ 
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
int 

CategoryId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref( +
_book, 1
)1 2
;2 3
set 
=> 
_book 
= 
value  
;  !
} 	
private 
Book 
_book 
; 
public 
Category 
Category  
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
	_category- 6
)6 7
;7 8
set 
=> 
	_category 
= 
value $
;$ %
}   	
private!! 
Category!! 
	_category!! "
;!!" #
private## 
ILazyLoader## 

LazyLoader## &
{##' (
get##) ,
;##, -
set##. 1
;##1 2
}##3 4
public%% 
BookCategory%% 
(%% 
)%% 
{&& 	
}(( 	
public** 
BookCategory** 
(** 
ILazyLoader** '

lazyLoader**( 2
)**2 3
{++ 	

LazyLoader,, 
=,, 

lazyLoader,, #
;,,# $
}-- 	
}.. 
}// § 
[C:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Enum\AccessGroupId.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

enum 
AccessGroupId 
{ 
None 
= 
$num 
, 
	Developer 
= 
$num 
, 
Admin 
= 
$num 
, 
Common 
= 
$num 
} 
public 

static 
class #
AccessGroupIdExtentions /
{ 
public 
static 
IList 
< 
Claim !
>! "
GetClaimsValues# 2
(2 3
this3 7
AccessGroupId8 E
accessF L
)L M
{ 	
var 
claims 
= 
new 
List !
<! "
Claim" '
>' (
(( )
)) *
;* +
if 
( 
access 
== 
AccessGroupId '
.' (
Common( .
). /
{ 
claims 
. 
Add 
( 
new 
Claim $
($ %
S% &
.& '
AccessLevelClaim' 7
,7 8
AccessGroupId9 F
.F G
CommonG M
.M N
ToStringN V
(V W
)W X
)X Y
)Y Z
;Z [
return 
claims 
; 
} 
if 
( 
access 
== 
AccessGroupId '
.' (
	Developer( 1
)1 2
{ 
claims   
.   
Add   
(   
new   
Claim   $
(  $ %
S  % &
.  & '
AccessLevelClaim  ' 7
,  7 8
AccessGroupId  9 F
.  F G
	Developer  G P
.  P Q
ToString  Q Y
(  Y Z
)  Z [
)  [ \
)  \ ]
;  ] ^
claims!! 
.!! 
Add!! 
(!! 
new!! 
Claim!! $
(!!$ %
S!!% &
.!!& '
AccessLevelClaim!!' 7
,!!7 8
AccessGroupId!!9 F
.!!F G
Admin!!G L
.!!L M
ToString!!M U
(!!U V
)!!V W
)!!W X
)!!X Y
;!!Y Z
claims"" 
."" 
Add"" 
("" 
new"" 
Claim"" $
(""$ %
S""% &
.""& '
AccessLevelClaim""' 7
,""7 8
AccessGroupId""9 F
.""F G
Common""G M
.""M N
ToString""N V
(""V W
)""W X
)""X Y
)""Y Z
;""Z [
return## 
claims## 
;## 
}$$ 
if%% 
(%% 
access%% 
==%% 
AccessGroupId%% '
.%%' (
Admin%%( -
)%%- .
{&& 
claims'' 
.'' 
Add'' 
('' 
new'' 
Claim'' $
(''$ %
S''% &
.''& '
AccessLevelClaim''' 7
,''7 8
AccessGroupId''9 F
.''F G
Admin''G L
.''L M
ToString''M U
(''U V
)''V W
)''W X
)''X Y
;''Y Z
claims(( 
.(( 
Add(( 
((( 
new(( 
Claim(( $
((($ %
S((% &
.((& '
AccessLevelClaim((' 7
,((7 8
AccessGroupId((9 F
.((F G
Common((G M
.((M N
ToString((N V
(((V W
)((W X
)((X Y
)((Y Z
;((Z [
return)) 
claims)) 
;)) 
}** 
return,, 
claims,, 
;,, 
}-- 	
}.. 
}// 
^C:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Enum\AdminNotifyTypes.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
.' (
Enum( ,
{ 
public 

enum 
AdminNotifyTypes  
{ 
None		 
=		 
$num		 
,		 
General

 
=

 
$num

 
} 
} 
[C:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Enum\EbookFormatId.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

enum 
EbookFormatId 
{ 
None		 
=		 
$num		 
,		 
Pdf

 
,

 
Fb2 
, 
Epub 
, 
Djvu 
} 
} ×
XC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Enum\LanguageId.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

enum 

LanguageId 
{ 
Eng		 
=		 
$num		 
,		 
Rus

 
=

 
$num

 
} 
} ·
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\IgnoredUser.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{		 
[

 
DataContract

 
]

 
public 

class 
IgnoredUser 
{ 
[ 	
Key	 
] 
[ 	

DataMember	 
] 
public 
Guid 

AppUserUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
AppUser 
AppUser 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ¡ö
jC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Migrations\20231009131655_Initial.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
.' (

Migrations( 2
{ 
public 

partial 
class 
Initial  
:! "
	Migration# ,
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Uid 
= 
table 
.  
Column  &
<& '
Guid' +
>+ ,
(, -
nullable- 5
:5 6
false7 <
)< =
,= >
	LoginName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
nullable5 =
:= >
true? C
)C D
,D E
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
nullable5 =
:= >
true? C
)C D
,D E
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
nullable4 <
:< =
true> B
)B C
,C D
FullName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
nullable4 <
:< =
true> B
)B C
,C D
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
nullable1 9
:9 :
true; ?
)? @
,@ A
IsActive 
= 
table $
.$ %
Column% +
<+ ,
bool, 0
>0 1
(1 2
nullable2 :
:: ;
false< A
)A B
,B C

DateJoined 
=  
table! &
.& '
Column' -
<- .
DateTime. 6
>6 7
(7 8
nullable8 @
:@ A
falseB G
)G H
,H I
AccessGroup 
=  !
table" '
.' (
Column( .
<. /
int/ 2
>2 3
(3 4
nullable4 <
:< =
false> C
)C D
,D E
Discriminator !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
nullable9 A
:A B
falseC H
)H I
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 2
,2 3
x4 5
=>6 8
x9 :
.: ;
Uid; >
)> ?
;? @
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name   
:   
$str   
,    
columns!! 
:!! 
table!! 
=>!! !
new!!" %
{"" 
	AuthorUid## 
=## 
table##  %
.##% &
Column##& ,
<##, -
Guid##- 1
>##1 2
(##2 3
nullable##3 ;
:##; <
false##= B
)##B C
,##C D
	FirstName$$ 
=$$ 
table$$  %
.$$% &
Column$$& ,
<$$, -
string$$- 3
>$$3 4
($$4 5
nullable$$5 =
:$$= >
true$$? C
)$$C D
,$$D E
LastName%% 
=%% 
table%% $
.%%$ %
Column%%% +
<%%+ ,
string%%, 2
>%%2 3
(%%3 4
nullable%%4 <
:%%< =
true%%> B
)%%B C
,%%C D

MiddleName&& 
=&&  
table&&! &
.&&& '
Column&&' -
<&&- .
string&&. 4
>&&4 5
(&&5 6
nullable&&6 >
:&&> ?
true&&@ D
)&&D E
}'' 
,'' 
constraints(( 
:(( 
table(( "
=>((# %
{)) 
table** 
.** 

PrimaryKey** $
(**$ %
$str**% 1
,**1 2
x**3 4
=>**5 7
x**8 9
.**9 :
	AuthorUid**: C
)**C D
;**D E
}++ 
)++ 
;++ 
migrationBuilder-- 
.-- 
CreateTable-- (
(--( )
name.. 
:.. 
$str.. "
,.." #
columns// 
:// 
table// 
=>// !
new//" %
{00 

CategoryId11 
=11  
table11! &
.11& '
Column11' -
<11- .
int11. 1
>111 2
(112 3
nullable113 ;
:11; <
false11= B
)11B C
.22 

Annotation22 #
(22# $
$str22$ C
,22C D(
MySqlValueGenerationStrategy22E a
.22a b
IdentityColumn22b p
)22p q
,22q r
CategoryName33  
=33! "
table33# (
.33( )
Column33) /
<33/ 0
string330 6
>336 7
(337 8
nullable338 @
:33@ A
true33B F
)33F G
}44 
,44 
constraints55 
:55 
table55 "
=>55# %
{66 
table77 
.77 

PrimaryKey77 $
(77$ %
$str77% 4
,774 5
x776 7
=>778 :
x77; <
.77< =

CategoryId77= G
)77G H
;77H I
}88 
)88 
;88 
migrationBuilder:: 
.:: 
CreateTable:: (
(::( )
name;; 
:;; 
$str;; %
,;;% &
columns<< 
:<< 
table<< 
=><< !
new<<" %
{== 
NotifyId>> 
=>> 
table>> $
.>>$ %
Column>>% +
<>>+ ,
int>>, /
>>>/ 0
(>>0 1
nullable>>1 9
:>>9 :
false>>; @
)>>@ A
,>>A B
Uid?? 
=?? 
table?? 
.??  
Column??  &
<??& '
Guid??' +
>??+ ,
(??, -
nullable??- 5
:??5 6
false??7 <
)??< =
}@@ 
,@@ 
constraintsAA 
:AA 
tableAA "
=>AA# %
{BB 
tableCC 
.CC 

PrimaryKeyCC $
(CC$ %
$strCC% 7
,CC7 8
xCC9 :
=>CC; =
xCC> ?
.CC? @
NotifyIdCC@ H
)CCH I
;CCI J
tableDD 
.DD 

ForeignKeyDD $
(DD$ %
nameEE 
:EE 
$strEE =
,EE= >
columnFF 
:FF 
xFF  !
=>FF" $
xFF% &
.FF& '
UidFF' *
,FF* +
principalTableGG &
:GG& '
$strGG( 2
,GG2 3
principalColumnHH '
:HH' (
$strHH) .
,HH. /
onDeleteII  
:II  !
ReferentialActionII" 3
.II3 4
CascadeII4 ;
)II; <
;II< =
}JJ 
)JJ 
;JJ 
migrationBuilderLL 
.LL 
CreateTableLL (
(LL( )
nameMM 
:MM 
$strMM $
,MM$ %
columnsNN 
:NN 
tableNN 
=>NN !
newNN" %
{OO 

AppUserUidPP 
=PP  
tablePP! &
.PP& '
ColumnPP' -
<PP- .
GuidPP. 2
>PP2 3
(PP3 4
nullablePP4 <
:PP< =
falsePP> C
)PPC D
,PPD E
DateQQ 
=QQ 
tableQQ  
.QQ  !
ColumnQQ! '
<QQ' (
DateTimeQQ( 0
>QQ0 1
(QQ1 2
nullableQQ2 :
:QQ: ;
falseQQ< A
)QQA B
}RR 
,RR 
constraintsSS 
:SS 
tableSS "
=>SS# %
{TT 
tableUU 
.UU 

PrimaryKeyUU $
(UU$ %
$strUU% 6
,UU6 7
xUU8 9
=>UU: <
xUU= >
.UU> ?

AppUserUidUU? I
)UUI J
;UUJ K
tableVV 
.VV 

ForeignKeyVV $
(VV$ %
nameWW 
:WW 
$strWW C
,WWC D
columnXX 
:XX 
xXX  !
=>XX" $
xXX% &
.XX& '

AppUserUidXX' 1
,XX1 2
principalTableYY &
:YY& '
$strYY( 2
,YY2 3
principalColumnZZ '
:ZZ' (
$strZZ) .
,ZZ. /
onDelete[[  
:[[  !
ReferentialAction[[" 3
.[[3 4
Cascade[[4 ;
)[[; <
;[[< =
}\\ 
)\\ 
;\\ 
migrationBuilder^^ 
.^^ 
CreateTable^^ (
(^^( )
name__ 
:__ 
$str__ 
,__ 
columns`` 
:`` 
table`` 
=>`` !
new``" %
{aa 
BiaIdbb 
=bb 
tablebb !
.bb! "
Columnbb" (
<bb( )
intbb) ,
>bb, -
(bb- .
nullablebb. 6
:bb6 7
falsebb8 =
)bb= >
.cc 

Annotationcc #
(cc# $
$strcc$ C
,ccC D(
MySqlValueGenerationStrategyccE a
.cca b
IdentityColumnccb p
)ccp q
,ccq r
Isbndd 
=dd 
tabledd  
.dd  !
Columndd! '
<dd' (
stringdd( .
>dd. /
(dd/ 0
nullabledd0 8
:dd8 9
truedd: >
)dd> ?
,dd? @
Titleee 
=ee 
tableee !
.ee! "
Columnee" (
<ee( )
stringee) /
>ee/ 0
(ee0 1
nullableee1 9
:ee9 :
trueee; ?
)ee? @
,ee@ A
Subtitleff 
=ff 
tableff $
.ff$ %
Columnff% +
<ff+ ,
stringff, 2
>ff2 3
(ff3 4
nullableff4 <
:ff< =
trueff> B
)ffB C
,ffC D
Languagegg 
=gg 
tablegg $
.gg$ %
Columngg% +
<gg+ ,
intgg, /
>gg/ 0
(gg0 1
nullablegg1 9
:gg9 :
falsegg; @
)gg@ A
,ggA B
Yearhh 
=hh 
tablehh  
.hh  !
Columnhh! '
<hh' (
inthh( +
>hh+ ,
(hh, -
nullablehh- 5
:hh5 6
truehh7 ;
)hh; <
,hh< =
Editionii 
=ii 
tableii #
.ii# $
Columnii$ *
<ii* +
intii+ .
>ii. /
(ii/ 0
nullableii0 8
:ii8 9
trueii: >
)ii> ?
,ii? @
Pagesjj 
=jj 
tablejj !
.jj! "
Columnjj" (
<jj( )
intjj) ,
>jj, -
(jj- .
nullablejj. 6
:jj6 7
truejj8 <
)jj< =
,jj= >

CoverImagekk 
=kk  
tablekk! &
.kk& '
Columnkk' -
<kk- .
stringkk. 4
>kk4 5
(kk5 6
nullablekk6 >
:kk> ?
truekk@ D
)kkD E
,kkE F

Annotationll 
=ll  
tablell! &
.ll& '
Columnll' -
<ll- .
stringll. 4
>ll4 5
(ll5 6
nullablell6 >
:ll> ?
truell@ D
)llD E
,llE F
AverageRatingmm !
=mm" #
tablemm$ )
.mm) *
Columnmm* 0
<mm0 1
intmm1 4
>mm4 5
(mm5 6
nullablemm6 >
:mm> ?
falsemm@ E
)mmE F
,mmF G
Discriminatornn !
=nn" #
tablenn$ )
.nn) *
Columnnn* 0
<nn0 1
stringnn1 7
>nn7 8
(nn8 9
nullablenn9 A
:nnA B
falsennC H
)nnH I
,nnI J
EbookFormatoo 
=oo  !
tableoo" '
.oo' (
Columnoo( .
<oo. /
intoo/ 2
>oo2 3
(oo3 4
nullableoo4 <
:oo< =
trueoo> B
)ooB C
,ooC D
Sizepp 
=pp 
tablepp  
.pp  !
Columnpp! '
<pp' (
intpp( +
>pp+ ,
(pp, -
nullablepp- 5
:pp5 6
truepp7 ;
)pp; <
,pp< =
Linkqq 
=qq 
tableqq  
.qq  !
Columnqq! '
<qq' (
stringqq( .
>qq. /
(qq/ 0
nullableqq0 8
:qq8 9
trueqq: >
)qq> ?
,qq? @
TakenDuerr 
=rr 
tablerr $
.rr$ %
Columnrr% +
<rr+ ,
DateTimerr, 4
>rr4 5
(rr5 6
nullablerr6 >
:rr> ?
truerr@ D
)rrD E
,rrE F
TakenByUserUidss "
=ss# $
tabless% *
.ss* +
Columnss+ 1
<ss1 2
Guidss2 6
>ss6 7
(ss7 8
nullabless8 @
:ss@ A
truessB F
)ssF G
}tt 
,tt 
constraintsuu 
:uu 
tableuu "
=>uu# %
{vv 
tableww 
.ww 

PrimaryKeyww $
(ww$ %
$strww% /
,ww/ 0
xww1 2
=>ww3 5
xww6 7
.ww7 8
BiaIdww8 =
)ww= >
;ww> ?
tablexx 
.xx 

ForeignKeyxx $
(xx$ %
nameyy 
:yy 
$stryy @
,yy@ A
columnzz 
:zz 
xzz  !
=>zz" $
xzz% &
.zz& '
TakenByUserUidzz' 5
,zz5 6
principalTable{{ &
:{{& '
$str{{( 2
,{{2 3
principalColumn|| '
:||' (
$str||) .
,||. /
onDelete}}  
:}}  !
ReferentialAction}}" 3
.}}3 4
Restrict}}4 <
)}}< =
;}}= >
}~~ 
)~~ 
;~~ 
migrationBuilder
 
.
 
CreateTable
 (
(
( )
name
 
:
 
$str
 $
,
$ %
columns
 
:
 
table
 
=>
 !
new
" %
{
 

AppUserUid
 
=
  
table
! &
.
& '
Column
' -
<
- .
Guid
. 2
>
2 3
(
3 4
nullable
4 <
:
< =
false
> C
)
C D
}
 
,
 
constraints
 
:
 
table
 "
=>
# %
{
 
table
 
.
 

PrimaryKey
 $
(
$ %
$str
% 6
,
6 7
x
8 9
=>
: <
x
= >
.
> ?

AppUserUid
? I
)
I J
;
J K
table
 
.
 

ForeignKey
 $
(
$ %
name
 
:
 
$str
 C
,
C D
column
 
:
 
x
  !
=>
" $
x
% &
.
& '

AppUserUid
' 1
,
1 2
principalTable
 &
:
& '
$str
( 2
,
2 3
principalColumn
 '
:
' (
$str
) .
,
. /
onDelete
  
:
  !
ReferentialAction
" 3
.
3 4
Cascade
4 ;
)
; <
;
< =
}
 
)
 
;
 
migrationBuilder
 
.
 
CreateTable
 (
(
( )
name
 
:
 
$str
 #
,
# $
columns
 
:
 
table
 
=>
 !
new
" %
{
 
BookId
 
=
 
table
 "
.
" #
Column
# )
<
) *
int
* -
>
- .
(
. /
nullable
/ 7
:
7 8
false
9 >
)
> ?
,
? @
	AuthorUid
 
=
 
table
  %
.
% &
Column
& ,
<
, -
Guid
- 1
>
1 2
(
2 3
nullable
3 ;
:
; <
false
= B
)
B C
}
 
,
 
constraints
 
:
 
table
 "
=>
# %
{
 
table
 
.
 

PrimaryKey
 $
(
$ %
$str
% 5
,
5 6
x
7 8
=>
9 ;
new
< ?
{
@ A
x
B C
.
C D
BookId
D J
,
J K
x
L M
.
M N
	AuthorUid
N W
}
X Y
)
Y Z
;
Z [
table
 
.
 

ForeignKey
 $
(
$ %
name
 
:
 
$str
 @
,
@ A
column
 
:
 
x
  !
=>
" $
x
% &
.
& '
	AuthorUid
' 0
,
0 1
principalTable
 &
:
& '
$str
( 1
,
1 2
principalColumn
 '
:
' (
$str
) 4
,
4 5
onDelete
    
:
    !
ReferentialAction
  " 3
.
  3 4
Cascade
  4 ;
)
  ; <
;
  < =
table
¡¡ 
.
¡¡ 

ForeignKey
¡¡ $
(
¡¡$ %
name
¢¢ 
:
¢¢ 
$str
¢¢ ;
,
¢¢; <
column
££ 
:
££ 
x
££  !
=>
££" $
x
££% &
.
££& '
BookId
££' -
,
££- .
principalTable
¤¤ &
:
¤¤& '
$str
¤¤( /
,
¤¤/ 0
principalColumn
¥¥ '
:
¥¥' (
$str
¥¥) 0
,
¥¥0 1
onDelete
¦¦  
:
¦¦  !
ReferentialAction
¦¦" 3
.
¦¦3 4
Cascade
¦¦4 ;
)
¦¦; <
;
¦¦< =
}
§§ 
)
§§ 
;
§§ 
migrationBuilder
©© 
.
©© 
CreateTable
©© (
(
©©( )
name
ªª 
:
ªª 
$str
ªª &
,
ªª& '
columns
«« 
:
«« 
table
«« 
=>
«« !
new
««" %
{
¬¬ 
BookId
­­ 
=
­­ 
table
­­ "
.
­­" #
Column
­­# )
<
­­) *
int
­­* -
>
­­- .
(
­­. /
nullable
­­/ 7
:
­­7 8
false
­­9 >
)
­­> ?
,
­­? @

CategoryId
®® 
=
®®  
table
®®! &
.
®®& '
Column
®®' -
<
®®- .
int
®®. 1
>
®®1 2
(
®®2 3
nullable
®®3 ;
:
®®; <
false
®®= B
)
®®B C
}
¯¯ 
,
¯¯ 
constraints
°° 
:
°° 
table
°° "
=>
°°# %
{
±± 
table
²² 
.
²² 

PrimaryKey
²² $
(
²²$ %
$str
²²% 8
,
²²8 9
x
²²: ;
=>
²²< >
new
²²? B
{
²²C D
x
²²E F
.
²²F G
BookId
²²G M
,
²²M N
x
²²O P
.
²²P Q

CategoryId
²²Q [
}
²²\ ]
)
²²] ^
;
²²^ _
table
³³ 
.
³³ 

ForeignKey
³³ $
(
³³$ %
name
´´ 
:
´´ 
$str
´´ >
,
´´> ?
column
µµ 
:
µµ 
x
µµ  !
=>
µµ" $
x
µµ% &
.
µµ& '
BookId
µµ' -
,
µµ- .
principalTable
¶¶ &
:
¶¶& '
$str
¶¶( /
,
¶¶/ 0
principalColumn
·· '
:
··' (
$str
··) 0
,
··0 1
onDelete
¸¸  
:
¸¸  !
ReferentialAction
¸¸" 3
.
¸¸3 4
Cascade
¸¸4 ;
)
¸¸; <
;
¸¸< =
table
¹¹ 
.
¹¹ 

ForeignKey
¹¹ $
(
¹¹$ %
name
ºº 
:
ºº 
$str
ºº G
,
ººG H
column
»» 
:
»» 
x
»»  !
=>
»»" $
x
»»% &
.
»»& '

CategoryId
»»' 1
,
»»1 2
principalTable
¼¼ &
:
¼¼& '
$str
¼¼( 4
,
¼¼4 5
principalColumn
½½ '
:
½½' (
$str
½½) 5
,
½½5 6
onDelete
¾¾  
:
¾¾  !
ReferentialAction
¾¾" 3
.
¾¾3 4
Cascade
¾¾4 ;
)
¾¾; <
;
¾¾< =
}
¿¿ 
)
¿¿ 
;
¿¿ 
migrationBuilder
ÁÁ 
.
ÁÁ 
CreateTable
ÁÁ (
(
ÁÁ( )
name
ÂÂ 
:
ÂÂ 
$str
ÂÂ )
,
ÂÂ) *
columns
ÃÃ 
:
ÃÃ 
table
ÃÃ 
=>
ÃÃ !
new
ÃÃ" %
{
ÄÄ 
Uid
ÅÅ 
=
ÅÅ 
table
ÅÅ 
.
ÅÅ  
Column
ÅÅ  &
<
ÅÅ& '
Guid
ÅÅ' +
>
ÅÅ+ ,
(
ÅÅ, -
nullable
ÅÅ- 5
:
ÅÅ5 6
false
ÅÅ7 <
)
ÅÅ< =
,
ÅÅ= >
DownloadDate
ÆÆ  
=
ÆÆ! "
table
ÆÆ# (
.
ÆÆ( )
Column
ÆÆ) /
<
ÆÆ/ 0
DateTime
ÆÆ0 8
>
ÆÆ8 9
(
ÆÆ9 :
nullable
ÆÆ: B
:
ÆÆB C
false
ÆÆD I
)
ÆÆI J
,
ÆÆJ K
UserUid
ÇÇ 
=
ÇÇ 
table
ÇÇ #
.
ÇÇ# $
Column
ÇÇ$ *
<
ÇÇ* +
Guid
ÇÇ+ /
>
ÇÇ/ 0
(
ÇÇ0 1
nullable
ÇÇ1 9
:
ÇÇ9 :
false
ÇÇ; @
)
ÇÇ@ A
,
ÇÇA B!
DownloadedBookBiaId
ÈÈ '
=
ÈÈ( )
table
ÈÈ* /
.
ÈÈ/ 0
Column
ÈÈ0 6
<
ÈÈ6 7
int
ÈÈ7 :
>
ÈÈ: ;
(
ÈÈ; <
nullable
ÈÈ< D
:
ÈÈD E
true
ÈÈF J
)
ÈÈJ K
}
ÉÉ 
,
ÉÉ 
constraints
ÊÊ 
:
ÊÊ 
table
ÊÊ "
=>
ÊÊ# %
{
ËË 
table
ÌÌ 
.
ÌÌ 

PrimaryKey
ÌÌ $
(
ÌÌ$ %
$str
ÌÌ% ;
,
ÌÌ; <
x
ÌÌ= >
=>
ÌÌ? A
x
ÌÌB C
.
ÌÌC D
Uid
ÌÌD G
)
ÌÌG H
;
ÌÌH I
table
ÍÍ 
.
ÍÍ 

ForeignKey
ÍÍ $
(
ÍÍ$ %
name
ÎÎ 
:
ÎÎ 
$str
ÎÎ N
,
ÎÎN O
column
ÏÏ 
:
ÏÏ 
x
ÏÏ  !
=>
ÏÏ" $
x
ÏÏ% &
.
ÏÏ& '!
DownloadedBookBiaId
ÏÏ' :
,
ÏÏ: ;
principalTable
ÐÐ &
:
ÐÐ& '
$str
ÐÐ( /
,
ÐÐ/ 0
principalColumn
ÑÑ '
:
ÑÑ' (
$str
ÑÑ) 0
,
ÑÑ0 1
onDelete
ÒÒ  
:
ÒÒ  !
ReferentialAction
ÒÒ" 3
.
ÒÒ3 4
Restrict
ÒÒ4 <
)
ÒÒ< =
;
ÒÒ= >
table
ÓÓ 
.
ÓÓ 

ForeignKey
ÓÓ $
(
ÓÓ$ %
name
ÔÔ 
:
ÔÔ 
$str
ÔÔ E
,
ÔÔE F
column
ÕÕ 
:
ÕÕ 
x
ÕÕ  !
=>
ÕÕ" $
x
ÕÕ% &
.
ÕÕ& '
UserUid
ÕÕ' .
,
ÕÕ. /
principalTable
ÖÖ &
:
ÖÖ& '
$str
ÖÖ( 2
,
ÖÖ2 3
principalColumn
×× '
:
××' (
$str
××) .
,
××. /
onDelete
ØØ  
:
ØØ  !
ReferentialAction
ØØ" 3
.
ØØ3 4
Cascade
ØØ4 ;
)
ØØ; <
;
ØØ< =
}
ÙÙ 
)
ÙÙ 
;
ÙÙ 
migrationBuilder
ÛÛ 
.
ÛÛ 
CreateTable
ÛÛ (
(
ÛÛ( )
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ %
,
ÜÜ% &
columns
ÝÝ 
:
ÝÝ 
table
ÝÝ 
=>
ÝÝ !
new
ÝÝ" %
{
ÞÞ 
Uid
ßß 
=
ßß 
table
ßß 
.
ßß  
Column
ßß  &
<
ßß& '
Guid
ßß' +
>
ßß+ ,
(
ßß, -
nullable
ßß- 5
:
ßß5 6
false
ßß7 <
)
ßß< =
,
ßß= >
	TakenDate
àà 
=
àà 
table
àà  %
.
àà% &
Column
àà& ,
<
àà, -
DateTime
àà- 5
>
àà5 6
(
àà6 7
nullable
àà7 ?
:
àà? @
false
ààA F
)
ààF G
,
ààG H
ExtendedDueDate
áá #
=
áá$ %
table
áá& +
.
áá+ ,
Column
áá, 2
<
áá2 3
DateTime
áá3 ;
>
áá; <
(
áá< =
nullable
áá= E
:
ááE F
false
ááG L
)
ááL M
,
ááM N 
ExtendedTimesCount
ââ &
=
ââ' (
table
ââ) .
.
ââ. /
Column
ââ/ 5
<
ââ5 6
int
ââ6 9
>
ââ9 :
(
ââ: ;
nullable
ââ; C
:
ââC D
false
ââE J
)
ââJ K
,
ââK L
ReturnedDate
ãã  
=
ãã! "
table
ãã# (
.
ãã( )
Column
ãã) /
<
ãã/ 0
DateTime
ãã0 8
>
ãã8 9
(
ãã9 :
nullable
ãã: B
:
ããB C
true
ããD H
)
ããH I
,
ããI J
UserUid
ää 
=
ää 
table
ää #
.
ää# $
Column
ää$ *
<
ää* +
Guid
ää+ /
>
ää/ 0
(
ää0 1
nullable
ää1 9
:
ää9 :
false
ää; @
)
ää@ A
,
ääA B
TakenBookBiaId
åå "
=
åå# $
table
åå% *
.
åå* +
Column
åå+ 1
<
åå1 2
int
åå2 5
>
åå5 6
(
åå6 7
nullable
åå7 ?
:
åå? @
true
ååA E
)
ååE F
}
ææ 
,
ææ 
constraints
çç 
:
çç 
table
çç "
=>
çç# %
{
èè 
table
éé 
.
éé 

PrimaryKey
éé $
(
éé$ %
$str
éé% 7
,
éé7 8
x
éé9 :
=>
éé; =
x
éé> ?
.
éé? @
Uid
éé@ C
)
ééC D
;
ééD E
table
êê 
.
êê 

ForeignKey
êê $
(
êê$ %
name
ëë 
:
ëë 
$str
ëë E
,
ëëE F
column
ìì 
:
ìì 
x
ìì  !
=>
ìì" $
x
ìì% &
.
ìì& '
TakenBookBiaId
ìì' 5
,
ìì5 6
principalTable
íí &
:
íí& '
$str
íí( /
,
íí/ 0
principalColumn
îî '
:
îî' (
$str
îî) 0
,
îî0 1
onDelete
ïï  
:
ïï  !
ReferentialAction
ïï" 3
.
ïï3 4
Restrict
ïï4 <
)
ïï< =
;
ïï= >
table
ðð 
.
ðð 

ForeignKey
ðð $
(
ðð$ %
name
ññ 
:
ññ 
$str
ññ A
,
ññA B
column
òò 
:
òò 
x
òò  !
=>
òò" $
x
òò% &
.
òò& '
UserUid
òò' .
,
òò. /
principalTable
óó &
:
óó& '
$str
óó( 2
,
óó2 3
principalColumn
ôô '
:
ôô' (
$str
ôô) .
,
ôô. /
onDelete
õõ  
:
õõ  !
ReferentialAction
õõ" 3
.
õõ3 4
Cascade
õõ4 ;
)
õõ; <
;
õõ< =
}
öö 
)
öö 
;
öö 
migrationBuilder
øø 
.
øø 
CreateTable
øø (
(
øø( )
name
ùù 
:
ùù 
$str
ùù $
,
ùù$ %
columns
úú 
:
úú 
table
úú 
=>
úú !
new
úú" %
{
ûû 
BookId
üü 
=
üü 
table
üü "
.
üü" #
Column
üü# )
<
üü) *
int
üü* -
>
üü- .
(
üü. /
nullable
üü/ 7
:
üü7 8
false
üü9 >
)
üü> ?
,
üü? @

AppUserUid
ýý 
=
ýý  
table
ýý! &
.
ýý& '
Column
ýý' -
<
ýý- .
Guid
ýý. 2
>
ýý2 3
(
ýý3 4
nullable
ýý4 <
:
ýý< =
false
ýý> C
)
ýýC D
,
ýýD E
Date
þþ 
=
þþ 
table
þþ  
.
þþ  !
Column
þþ! '
<
þþ' (
DateTime
þþ( 0
>
þþ0 1
(
þþ1 2
nullable
þþ2 :
:
þþ: ;
false
þþ< A
)
þþA B
}
ÿÿ 
,
ÿÿ 
constraints
 
:
 
table
 "
=>
# %
{
 
table
 
.
 

PrimaryKey
 $
(
$ %
$str
% 6
,
6 7
x
8 9
=>
: <
new
= @
{
A B
x
C D
.
D E
BookId
E K
,
K L
x
M N
.
N O

AppUserUid
O Y
}
Z [
)
[ \
;
\ ]
table
 
.
 

ForeignKey
 $
(
$ %
name
 
:
 
$str
 C
,
C D
column
 
:
 
x
  !
=>
" $
x
% &
.
& '

AppUserUid
' 1
,
1 2
principalTable
 &
:
& '
$str
( 2
,
2 3
principalColumn
 '
:
' (
$str
) .
,
. /
onDelete
  
:
  !
ReferentialAction
" 3
.
3 4
Cascade
4 ;
)
; <
;
< =
table
 
.
 

ForeignKey
 $
(
$ %
name
 
:
 
$str
 <
,
< =
column
 
:
 
x
  !
=>
" $
x
% &
.
& '
BookId
' -
,
- .
principalTable
 &
:
& '
$str
( /
,
/ 0
principalColumn
 '
:
' (
$str
) 0
,
0 1
onDelete
  
:
  !
ReferentialAction
" 3
.
3 4
Cascade
4 ;
)
; <
;
< =
}
 
)
 
;
 
migrationBuilder
 
.
 
CreateTable
 (
(
( )
name
 
:
 
$str
 
,
  
columns
 
:
 
table
 
=>
 !
new
" %
{
 
Uid
 
=
 
table
 
.
  
Column
  &
<
& '
Guid
' +
>
+ ,
(
, -
nullable
- 5
:
5 6
false
7 <
)
< =
,
= >
BookId
 
=
 
table
 "
.
" #
Column
# )
<
) *
int
* -
>
- .
(
. /
nullable
/ 7
:
7 8
false
9 >
)
> ?
,
? @
Text
 
=
 
table
  
.
  !
Column
! '
<
' (
string
( .
>
. /
(
/ 0
nullable
0 8
:
8 9
true
: >
)
> ?
,
? @
Rating
 
=
 
table
 "
.
" #
Column
# )
<
) *
int
* -
>
- .
(
. /
nullable
/ 7
:
7 8
false
9 >
)
> ?
,
? @

RatedByUid
 
=
  
table
! &
.
& '
Column
' -
<
- .
Guid
. 2
>
2 3
(
3 4
nullable
4 <
:
< =
false
> C
)
C D
}
 
,
 
constraints
 
:
 
table
 "
=>
# %
{
 
table
 
.
 

PrimaryKey
 $
(
$ %
$str
% 1
,
1 2
x
3 4
=>
5 7
x
8 9
.
9 :
Uid
: =
)
= >
;
> ?
table
 
.
 

ForeignKey
 $
(
$ %
name
 
:
 
$str
 7
,
7 8
column
   
:
   
x
    !
=>
  " $
x
  % &
.
  & '
BookId
  ' -
,
  - .
principalTable
¡¡ &
:
¡¡& '
$str
¡¡( /
,
¡¡/ 0
principalColumn
¢¢ '
:
¢¢' (
$str
¢¢) 0
,
¢¢0 1
onDelete
££  
:
££  !
ReferentialAction
££" 3
.
££3 4
Cascade
££4 ;
)
££; <
;
££< =
table
¤¤ 
.
¤¤ 

ForeignKey
¤¤ $
(
¤¤$ %
name
¥¥ 
:
¥¥ 
$str
¥¥ >
,
¥¥> ?
column
¦¦ 
:
¦¦ 
x
¦¦  !
=>
¦¦" $
x
¦¦% &
.
¦¦& '

RatedByUid
¦¦' 1
,
¦¦1 2
principalTable
§§ &
:
§§& '
$str
§§( 2
,
§§2 3
principalColumn
¨¨ '
:
¨¨' (
$str
¨¨) .
,
¨¨. /
onDelete
©©  
:
©©  !
ReferentialAction
©©" 3
.
©©3 4
Cascade
©©4 ;
)
©©; <
;
©©< =
}
ªª 
)
ªª 
;
ªª 
migrationBuilder
¬¬ 
.
¬¬ 
CreateTable
¬¬ (
(
¬¬( )
name
­­ 
:
­­ 
$str
­­ '
,
­­' (
columns
®® 
:
®® 
table
®® 
=>
®® !
new
®®" %
{
¯¯ 

AppUserUid
°° 
=
°°  
table
°°! &
.
°°& '
Column
°°' -
<
°°- .
Guid
°°. 2
>
°°2 3
(
°°3 4
nullable
°°4 <
:
°°< =
false
°°> C
)
°°C D
,
°°D E
BookId
±± 
=
±± 
table
±± "
.
±±" #
Column
±±# )
<
±±) *
int
±±* -
>
±±- .
(
±±. /
nullable
±±/ 7
:
±±7 8
false
±±9 >
)
±±> ?
,
±±? @

UploadDate
²² 
=
²²  
table
²²! &
.
²²& '
Column
²²' -
<
²²- .
DateTime
²². 6
>
²²6 7
(
²²7 8
nullable
²²8 @
:
²²@ A
false
²²B G
)
²²G H
}
³³ 
,
³³ 
constraints
´´ 
:
´´ 
table
´´ "
=>
´´# %
{
µµ 
table
¶¶ 
.
¶¶ 

PrimaryKey
¶¶ $
(
¶¶$ %
$str
¶¶% 9
,
¶¶9 :
x
¶¶; <
=>
¶¶= ?
new
¶¶@ C
{
¶¶D E
x
¶¶F G
.
¶¶G H

AppUserUid
¶¶H R
,
¶¶R S
x
¶¶T U
.
¶¶U V
BookId
¶¶V \
}
¶¶] ^
)
¶¶^ _
;
¶¶_ `
table
·· 
.
·· 

ForeignKey
·· $
(
··$ %
name
¸¸ 
:
¸¸ 
$str
¸¸ F
,
¸¸F G
column
¹¹ 
:
¹¹ 
x
¹¹  !
=>
¹¹" $
x
¹¹% &
.
¹¹& '

AppUserUid
¹¹' 1
,
¹¹1 2
principalTable
ºº &
:
ºº& '
$str
ºº( 2
,
ºº2 3
principalColumn
»» '
:
»»' (
$str
»») .
,
»». /
onDelete
¼¼  
:
¼¼  !
ReferentialAction
¼¼" 3
.
¼¼3 4
Cascade
¼¼4 ;
)
¼¼; <
;
¼¼< =
table
½½ 
.
½½ 

ForeignKey
½½ $
(
½½$ %
name
¾¾ 
:
¾¾ 
$str
¾¾ ?
,
¾¾? @
column
¿¿ 
:
¿¿ 
x
¿¿  !
=>
¿¿" $
x
¿¿% &
.
¿¿& '
BookId
¿¿' -
,
¿¿- .
principalTable
ÀÀ &
:
ÀÀ& '
$str
ÀÀ( /
,
ÀÀ/ 0
principalColumn
ÁÁ '
:
ÁÁ' (
$str
ÁÁ) 0
,
ÁÁ0 1
onDelete
ÂÂ  
:
ÂÂ  !
ReferentialAction
ÂÂ" 3
.
ÂÂ3 4
Cascade
ÂÂ4 ;
)
ÂÂ; <
;
ÂÂ< =
}
ÃÃ 
)
ÃÃ 
;
ÃÃ 
migrationBuilder
ÅÅ 
.
ÅÅ 
CreateTable
ÅÅ (
(
ÅÅ( )
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ $
,
ÆÆ$ %
columns
ÇÇ 
:
ÇÇ 
table
ÇÇ 
=>
ÇÇ !
new
ÇÇ" %
{
ÈÈ 
BookId
ÉÉ 
=
ÉÉ 
table
ÉÉ "
.
ÉÉ" #
Column
ÉÉ# )
<
ÉÉ) *
int
ÉÉ* -
>
ÉÉ- .
(
ÉÉ. /
nullable
ÉÉ/ 7
:
ÉÉ7 8
false
ÉÉ9 >
)
ÉÉ> ?
,
ÉÉ? @
Uid
ÊÊ 
=
ÊÊ 
table
ÊÊ 
.
ÊÊ  
Column
ÊÊ  &
<
ÊÊ& '
Guid
ÊÊ' +
>
ÊÊ+ ,
(
ÊÊ, -
nullable
ÊÊ- 5
:
ÊÊ5 6
false
ÊÊ7 <
)
ÊÊ< =
}
ËË 
,
ËË 
constraints
ÌÌ 
:
ÌÌ 
table
ÌÌ "
=>
ÌÌ# %
{
ÍÍ 
table
ÎÎ 
.
ÎÎ 

PrimaryKey
ÎÎ $
(
ÎÎ$ %
$str
ÎÎ% 6
,
ÎÎ6 7
x
ÎÎ8 9
=>
ÎÎ: <
new
ÎÎ= @
{
ÎÎA B
x
ÎÎC D
.
ÎÎD E
Uid
ÎÎE H
,
ÎÎH I
x
ÎÎJ K
.
ÎÎK L
BookId
ÎÎL R
}
ÎÎS T
)
ÎÎT U
;
ÎÎU V
table
ÏÏ 
.
ÏÏ 

ForeignKey
ÏÏ $
(
ÏÏ$ %
name
ÐÐ 
:
ÐÐ 
$str
ÐÐ <
,
ÐÐ< =
column
ÑÑ 
:
ÑÑ 
x
ÑÑ  !
=>
ÑÑ" $
x
ÑÑ% &
.
ÑÑ& '
BookId
ÑÑ' -
,
ÑÑ- .
principalTable
ÒÒ &
:
ÒÒ& '
$str
ÒÒ( /
,
ÒÒ/ 0
principalColumn
ÓÓ '
:
ÓÓ' (
$str
ÓÓ) 0
,
ÓÓ0 1
onDelete
ÔÔ  
:
ÔÔ  !
ReferentialAction
ÔÔ" 3
.
ÔÔ3 4
Cascade
ÔÔ4 ;
)
ÔÔ; <
;
ÔÔ< =
table
ÕÕ 
.
ÕÕ 

ForeignKey
ÕÕ $
(
ÕÕ$ %
name
ÖÖ 
:
ÖÖ 
$str
ÖÖ <
,
ÖÖ< =
column
×× 
:
×× 
x
××  !
=>
××" $
x
××% &
.
××& '
Uid
××' *
,
××* +
principalTable
ØØ &
:
ØØ& '
$str
ØØ( 2
,
ØØ2 3
principalColumn
ÙÙ '
:
ÙÙ' (
$str
ÙÙ) .
,
ÙÙ. /
onDelete
ÚÚ  
:
ÚÚ  !
ReferentialAction
ÚÚ" 3
.
ÚÚ3 4
Cascade
ÚÚ4 ;
)
ÚÚ; <
;
ÚÚ< =
}
ÛÛ 
)
ÛÛ 
;
ÛÛ 
migrationBuilder
ÝÝ 
.
ÝÝ 
CreateIndex
ÝÝ (
(
ÝÝ( )
name
ÞÞ 
:
ÞÞ 
$str
ÞÞ ,
,
ÞÞ, -
table
ßß 
:
ßß 
$str
ßß &
,
ßß& '
column
àà 
:
àà 
$str
àà 
)
àà 
;
àà 
migrationBuilder
ââ 
.
ââ 
CreateIndex
ââ (
(
ââ( )
name
ãã 
:
ãã 
$str
ãã 0
,
ãã0 1
table
ää 
:
ää 
$str
ää $
,
ää$ %
column
åå 
:
åå 
$str
åå #
)
åå# $
;
åå$ %
migrationBuilder
çç 
.
çç 
CreateIndex
çç (
(
çç( )
name
èè 
:
èè 
$str
èè 4
,
èè4 5
table
éé 
:
éé 
$str
éé '
,
éé' (
column
êê 
:
êê 
$str
êê $
)
êê$ %
;
êê% &
migrationBuilder
ìì 
.
ìì 
CreateIndex
ìì (
(
ìì( )
name
íí 
:
íí 
$str
íí /
,
íí/ 0
table
îî 
:
îî 
$str
îî 
,
îî 
column
ïï 
:
ïï 
$str
ïï (
)
ïï( )
;
ïï) *
migrationBuilder
ññ 
.
ññ 
CreateIndex
ññ (
(
ññ( )
name
òò 
:
òò 
$str
òò @
,
òò@ A
table
óó 
:
óó 
$str
óó *
,
óó* +
column
ôô 
:
ôô 
$str
ôô -
)
ôô- .
;
ôô. /
migrationBuilder
öö 
.
öö 
CreateIndex
öö (
(
öö( )
name
÷÷ 
:
÷÷ 
$str
÷÷ 4
,
÷÷4 5
table
øø 
:
øø 
$str
øø *
,
øø* +
column
ùù 
:
ùù 
$str
ùù !
)
ùù! "
;
ùù" #
migrationBuilder
ûû 
.
ûû 
CreateIndex
ûû (
(
ûû( )
name
üü 
:
üü 
$str
üü 7
,
üü7 8
table
ýý 
:
ýý 
$str
ýý &
,
ýý& '
column
þþ 
:
þþ 
$str
þþ (
)
þþ( )
;
þþ) *
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
 
:
 
$str
 0
,
0 1
table
 
:
 
$str
 &
,
& '
column
 
:
 
$str
 !
)
! "
;
" #
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
 
:
 
$str
 2
,
2 3
table
 
:
 
$str
 %
,
% &
column
 
:
 
$str
 $
)
$ %
;
% &
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
 
:
 
$str
 )
,
) *
table
 
:
 
$str
  
,
  !
column
 
:
 
$str
  
)
  !
;
! "
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
 
:
 
$str
 -
,
- .
table
 
:
 
$str
  
,
  !
column
 
:
 
$str
 $
)
$ %
;
% &
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
 
:
 
$str
 1
,
1 2
table
 
:
 
$str
 (
,
( )
column
 
:
 
$str
  
)
  !
;
! "
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
 
:
 
$str
 .
,
. /
table
 
:
 
$str
 %
,
% &
column
 
:
 
$str
  
)
  !
;
! "
}
 	
	protected
 
override
 
void
 
Down
  $
(
$ %
MigrationBuilder
% 5
migrationBuilder
6 F
)
F G
{
   	
migrationBuilder
¡¡ 
.
¡¡ 
	DropTable
¡¡ &
(
¡¡& '
name
¢¢ 
:
¢¢ 
$str
¢¢ %
)
¢¢% &
;
¢¢& '
migrationBuilder
¤¤ 
.
¤¤ 
	DropTable
¤¤ &
(
¤¤& '
name
¥¥ 
:
¥¥ 
$str
¥¥ $
)
¥¥$ %
;
¥¥% &
migrationBuilder
§§ 
.
§§ 
	DropTable
§§ &
(
§§& '
name
¨¨ 
:
¨¨ 
$str
¨¨ #
)
¨¨# $
;
¨¨$ %
migrationBuilder
ªª 
.
ªª 
	DropTable
ªª &
(
ªª& '
name
«« 
:
«« 
$str
«« &
)
««& '
;
««' (
migrationBuilder
­­ 
.
­­ 
	DropTable
­­ &
(
­­& '
name
®® 
:
®® 
$str
®® )
)
®®) *
;
®®* +
migrationBuilder
°° 
.
°° 
	DropTable
°° &
(
°°& '
name
±± 
:
±± 
$str
±± $
)
±±$ %
;
±±% &
migrationBuilder
³³ 
.
³³ 
	DropTable
³³ &
(
³³& '
name
´´ 
:
´´ 
$str
´´ %
)
´´% &
;
´´& '
migrationBuilder
¶¶ 
.
¶¶ 
	DropTable
¶¶ &
(
¶¶& '
name
·· 
:
·· 
$str
·· $
)
··$ %
;
··% &
migrationBuilder
¹¹ 
.
¹¹ 
	DropTable
¹¹ &
(
¹¹& '
name
ºº 
:
ºº 
$str
ºº 
)
ºº  
;
ºº  !
migrationBuilder
¼¼ 
.
¼¼ 
	DropTable
¼¼ &
(
¼¼& '
name
½½ 
:
½½ 
$str
½½ '
)
½½' (
;
½½( )
migrationBuilder
¿¿ 
.
¿¿ 
	DropTable
¿¿ &
(
¿¿& '
name
ÀÀ 
:
ÀÀ 
$str
ÀÀ $
)
ÀÀ$ %
;
ÀÀ% &
migrationBuilder
ÂÂ 
.
ÂÂ 
	DropTable
ÂÂ &
(
ÂÂ& '
name
ÃÃ 
:
ÃÃ 
$str
ÃÃ 
)
ÃÃ  
;
ÃÃ  !
migrationBuilder
ÅÅ 
.
ÅÅ 
	DropTable
ÅÅ &
(
ÅÅ& '
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ "
)
ÆÆ" #
;
ÆÆ# $
migrationBuilder
ÈÈ 
.
ÈÈ 
	DropTable
ÈÈ &
(
ÈÈ& '
name
ÉÉ 
:
ÉÉ 
$str
ÉÉ 
)
ÉÉ 
;
ÉÉ 
migrationBuilder
ËË 
.
ËË 
	DropTable
ËË &
(
ËË& '
name
ÌÌ 
:
ÌÌ 
$str
ÌÌ  
)
ÌÌ  !
;
ÌÌ! "
}
ÍÍ 	
}
ÎÎ 
}ÏÏ 
wC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Migrations\20231009135839_PropertySaveBehavior.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
.' (

Migrations( 2
{ 
public 

partial 
class  
PropertySaveBehavior -
:. /
	Migration0 9
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
}

 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} 
wC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Migrations\20231116094055_AdminNotifyEditModel.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
.' (

Migrations( 2
{ 
public 

partial 
class  
AdminNotifyEditModel -
:. /
	Migration0 9
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
DropPrimaryKey

 +
(

+ ,
name 
: 
$str (
,( )
table 
: 
$str &
)& '
;' (
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str &
,& '
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
. 

Annotation 
( 
$str ;
,; <(
MySqlValueGenerationStrategy= Y
.Y Z
IdentityColumnZ h
)h i
;i j
migrationBuilder 
. 
AddPrimaryKey *
(* +
name 
: 
$str (
,( )
table 
: 
$str &
,& '
column 
: 
$str 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
DropPrimaryKey +
(+ ,
name 
: 
$str (
,( )
table 
: 
$str &
)& '
;' (
migrationBuilder!! 
.!! 

DropColumn!! '
(!!' (
name"" 
:"" 
$str"" 
,"" 
table## 
:## 
$str## &
)##& '
;##' (
migrationBuilder%% 
.%% 
AddPrimaryKey%% *
(%%* +
name&& 
:&& 
$str&& (
,&&( )
table'' 
:'' 
$str'' &
,''& '
column(( 
:(( 
$str(( "
)((" #
;((# $
})) 	
}** 
}++ Ó
RC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\PaperBook.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[		 
DataContract		 
]		 
public

 

class

 
	PaperBook

 
:

 
Book

 !
{ 
public 
	PaperBook 
( 
) 
{ 	
} 	
public 
	PaperBook 
( 
ILazyLoader $

lazyLoader% /
)/ 0
:1 2
base3 7
(7 8

lazyLoader8 B
)B C
{ 	
} 	
[ 	

DataMember	 
( 
EmitDefaultValue $
=% &
false' ,
), -
]- .
public 
DateTime 
? 
TakenDue !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Guid 
? 
TakenByUserUid #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
AppUser 
TakenByUser "
{ 	
get 
=> 
base 
. 
	GetLoader !
(! "
)" #
.# $
Load$ (
(( )
this) -
,- .
ref/ 2
_takenByUser3 ?
)? @
;@ A
set 
=> 
_takenByUser 
=  !
value" '
;' (
} 	
private   
AppUser   
_takenByUser   $
;  $ %
public"" 
ICollection"" 
<"" 
RentHistory"" &
>""& '
RentHistory""( 3
{## 	
get$$ 
=>$$ 
base$$ 
.$$ 
	GetLoader$$ !
($$! "
)$$" #
.$$# $
Load$$$ (
($$( )
this$$) -
,$$- .
ref$$/ 2
_rentHistory$$3 ?
)$$? @
;$$@ A
set%% 
=>%% 
_rentHistory%% 
=%%  !
value%%" '
;%%' (
}&& 	
private(( 
ICollection(( 
<(( 
RentHistory(( '
>((' (
_rentHistory(() 5
;((5 6
})) 
}** å
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\RentHistory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[ 
DataContract 
] 
public 

class 
RentHistory 
{ 
[ 	
Key	 
] 
[ 	

DataMember	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
[ 	

DataMember	 
] 
public 
DateTime 
	TakenDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	

DataMember	 
( 
EmitDefaultValue $
=% &
false' ,
), -
]- .
public 
DateTime 
ExtendedDueDate '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
[ 	

DataMember	 
] 
public 
int 
ExtendedTimesCount %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public!! 
DateTime!! 
?!! 
ReturnedDate!! %
{!!& '
get!!( +
;!!+ ,
set!!- 0
;!!0 1
}!!2 3
public## 
AppUser## 
User## 
{$$ 	
get%% 
=>%% 

LazyLoader%% 
.%% 
Load%% "
(%%" #
this%%# '
,%%' (
ref%%) ,
_user%%- 2
)%%2 3
;%%3 4
set&& 
=>&& 
_user&& 
=&& 
value&&  
;&&  !
}'' 	
private(( 
AppUser(( 
_user(( 
;(( 
public** 
	PaperBook** 
	TakenBook** "
{++ 	
get,, 
=>,, 

LazyLoader,, 
.,, 
Load,, "
(,," #
this,,# '
,,,' (
ref,,) ,

_takenBook,,- 7
),,7 8
;,,8 9
set-- 
=>-- 

_takenBook-- 
=-- 
value--  %
;--% &
}.. 	
private// 
	PaperBook// 

_takenBook// $
;//$ %
private11 
ILazyLoader11 

LazyLoader11 &
{11' (
get11) ,
;11, -
set11. 1
;111 2
}113 4
public33 
RentHistory33 
(33 
)33 
{44 	
}66 	
public88 
RentHistory88 
(88 
ILazyLoader88 &

lazyLoader88' 1
)881 2
{99 	

LazyLoader:: 
=:: 

lazyLoader:: #
;::# $
};; 	
}<< 
}== ú
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\RequestBook.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
DataContract 
] 
public 

class 
RequestBook 
{ 
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
Guid 

AppUserUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_book- 2
)2 3
;3 4
set 
=> 
_book 
= 
value  
;  !
} 	
private 
Book 
_book 
; 
public 
AppUser 
AppUser 
{ 	
get   
=>   

LazyLoader   
.   
Load   "
(  " #
this  # '
,  ' (
ref  ) ,
_appUser  - 5
)  5 6
;  6 7
set!! 
=>!! 
_appUser!! 
=!! 
value!! #
;!!# $
}"" 	
private$$ 
AppUser$$ 
_appUser$$  
;$$  !
private&& 
ILazyLoader&& 

LazyLoader&& &
{&&' (
get&&) ,
;&&, -
set&&. 1
;&&1 2
}&&3 4
public(( 
RequestBook(( 
((( 
)(( 
{)) 	
}++ 	
public,, 
RequestBook,, 
(,, 
ILazyLoader,, &

lazyLoader,,' 1
),,1 2
{-- 	

LazyLoader.. 
=.. 

lazyLoader.. #
;..# $
}// 	
}00 
}11 
OC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Review.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{		 
public 

class 
Review 
{ 
[ 	
Key	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Text 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Rating 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
Guid 

RatedByUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
AppUser 
RatedBy 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_ratedBy- 5
)5 6
;6 7
set 
=> 
_ratedBy 
= 
value #
;# $
} 	
private 
AppUser 
_ratedBy  
;  !
public   
Book   
Book   
{!! 	
get"" 
=>"" 

LazyLoader"" 
."" 
Load"" "
(""" #
this""# '
,""' (
ref"") ,
_book""- 2
)""2 3
;""3 4
set## 
=>## 
_book## 
=## 
value##  
;##  !
}$$ 	
private%% 
Book%% 
_book%% 
;%% 
private(( 
ILazyLoader(( 

LazyLoader(( &
{((' (
get(() ,
;((, -
set((. 1
;((1 2
}((3 4
public** 
Review** 
(** 
)** 
{++ 	
}-- 	
public// 
Review// 
(// 
ILazyLoader// !

lazyLoader//" ,
)//, -
{00 	

LazyLoader11 
=11 

lazyLoader11 #
;11# $
}22 	
}33 
}44 
JC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\S.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
S 
{		 
public

 
const

 
string

 

NLogConfig

 &
=

' (
$str

) 6
;

6 7
public 
const 
string  
ConnectionStringName 0
=1 2
$str3 A
;A B
public 
const 
string 
AccessLevelClaim ,
=- .
$str/ <
;< =
public 
const 
string 
	Developer %
=& '
$str( 3
;3 4
public 
const 
string 
Admin !
=" #
$str$ +
;+ ,
public 
const 
string 
Common "
=# $
$str% -
;- .
public 
const 
string 
GroupDeveloper *
=+ ,
$str- =
;= >
public 
const 
string 

GroupAdmin &
=' (
$str) 5
;5 6
public 
const 
string 
GroupCommon '
=( )
$str* 7
;7 8
private 
const 
string 
CommSep $
=% &
$str' *
;* +
public 
const 
string 
CommonAccess (
=) *
	Developer+ 4
+6 7
CommSep9 @
+A B
CommonC I
;I J
public 
const 
string 
AdminAccess '
=( )
	Developer* 3
+4 5
CommSep6 =
+> ?
Admin@ E
;E F
} 
} ²
VC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\UploadHistory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[ 
DataContract 
] 
public 

class 
UploadHistory 
{ 
[ 	

DataMember	 
] 
public 
DateTime 

UploadDate "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
AppUser 
User 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_user- 2
)2 3
;3 4
set 
=> 
_user 
= 
value  
;  !
} 	
private 
AppUser 
_user 
; 
[ 	

DataMember	 
] 
public 
Guid 

AppUserUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_book- 2
)2 3
;3 4
set 
=> 
_book 
= 
value  
;  !
}   	
private!! 
Book!! 
_book!! 
;!! 
["" 	

DataMember""	 
]"" 
public## 
int## 
BookId## 
{## 
get## 
;##  
set##! $
;##$ %
}##& '
private%% 
ILazyLoader%% 

LazyLoader%% &
{%%' (
get%%) ,
;%%, -
set%%. 1
;%%1 2
}%%3 4
public'' 
UploadHistory'' 
('' 
)'' 
{(( 	
}** 	
public,, 
UploadHistory,, 
(,, 
ILazyLoader,, (

lazyLoader,,) 3
),,3 4
{-- 	

LazyLoader.. 
=.. 

lazyLoader.. #
;..# $
}// 	
}11 
}22 Õ
SC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\UserNotify.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[		 
DataContract		 
]		 
public

 

class

 

UserNotify

 
{ 
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_book- 2
)2 3
;3 4
set 
=> 
_book 
= 
value  
;  !
} 	
private 
Book 
_book 
; 
public 
AppUser 
AppUser 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_appUser- 5
)5 6
;6 7
set 
=> 
_appUser 
= 
value #
;# $
} 	
private 
AppUser 
_appUser  
;  !
private 
ILazyLoader 

LazyLoader &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public!! 

UserNotify!! 
(!! 
)!! 
{"" 	
}$$ 	
public%% 

UserNotify%% 
(%% 
ILazyLoader%% %

lazyLoader%%& 0
)%%0 1
{&& 	

LazyLoader'' 
='' 

lazyLoader'' #
;''# $
}(( 	
}** 
}++ 