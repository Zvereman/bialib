ˆ

NC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Admin.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
Admin 
: 
AppUser 
{		 
public

 
Admin

 
(

 
)

 
{ 	
} 	
public 
Admin 
( 
ILazyLoader  

lazyLoader! +
)+ ,
:- .
base/ 3
(3 4

lazyLoader4 >
)> ?
{ 	
} 	
public 
ICollection 
< 
AdminNotify &
>& '
AdminNotifies( 5
{ 	
get 
=> 
base 
. 
	GetLoader !
(! "
)" #
.# $
Load$ (
(( )
this) -
,- .
ref/ 2
_adminNotifies3 A
)A B
;B C
set 
=> 
_adminNotifies !
=" #
value$ )
;) *
} 	
private 
ICollection 
< 
AdminNotify '
>' (
_adminNotifies) 7
;7 8
} 
} ·
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\AdminNotify.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[ 
Serializable 
] 
[ 
DataContract 
] 
public 

class 
AdminNotify 
{ 
[ 	
Key	 
] 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
[ 	

DataMember	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	

DataMember	 
] 
public 
AdminNotifyTypes 
NotifyId! )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
[ 	

DataMember	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
public 
Admin 
Admin 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_admin- 3
)3 4
;4 5
set 
=> 
_admin 
= 
value !
;! "
} 	
private 
Admin 
_admin 
; 
private!! 
ILazyLoader!! 

LazyLoader!! &
{!!' (
get!!) ,
;!!, -
set!!. 1
;!!1 2
}!!3 4
public## 
AdminNotify## 
(## 
)## 
{$$ 	
}&& 	
public'' 
AdminNotify'' 
('' 
ILazyLoader'' &

lazyLoader''' 1
)''1 2
{(( 	

LazyLoader)) 
=)) 

lazyLoader)) #
;))# $
}** 	
}++ 
},, ı8
PC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\AppUser.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
AppUser 
{ 
[ 	
Key	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
	LoginName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 

DateJoined "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
AccessGroupId 
AccessGroup (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
IgnoredUser 
Ignored "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
Discriminator #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
ICollection 
< 
	PaperBook $
>$ %

BooksTaken& 0
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_booksTaken- 8
)8 9
;9 :
set 
=> 
_booksTaken 
=  
value! &
;& '
} 	
private 
ICollection 
< 
	PaperBook %
>% &
_booksTaken' 2
;2 3
public!! 
ICollection!! 
<!! 
DownloadHistory!! *
>!!* +
DownloadHistory!!, ;
{"" 	
get## 
=>## 

LazyLoader## 
.## 
Load## "
(##" #
this### '
,##' (
ref##) ,
_downloadHistory##- =
)##= >
;##> ?
set$$ 
=>$$ 
_downloadHistory$$ #
=$$$ %
value$$& +
;$$+ ,
}%% 	
private'' 
ICollection'' 
<'' 
DownloadHistory'' +
>''+ ,
_downloadHistory''- =
;''= >
public)) 
ICollection)) 
<)) 
UploadHistory)) (
>))( )
UploadHistory))* 7
{** 	
get++ 
=>++ 

LazyLoader++ 
.++ 
Load++ "
(++" #
this++# '
,++' (
ref++) ,
_uploadHistory++- ;
)++; <
;++< =
set,, 
=>,, 
_uploadHistory,, !
=,," #
value,,$ )
;,,) *
}-- 	
private// 
ICollection// 
<// 
UploadHistory// )
>//) *
_uploadHistory//+ 9
;//9 :
public11 
ICollection11 
<11 
RentHistory11 &
>11& '
RentHistory11( 3
{22 	
get33 
=>33 

LazyLoader33 
.33 
Load33 "
(33" #
this33# '
,33' (
ref33) ,
_rentHistory33- 9
)339 :
;33: ;
set44 
=>44 
_rentHistory44 
=44  !
value44" '
;44' (
}55 	
private66 
ICollection66 
<66 
RentHistory66 '
>66' (
_rentHistory66) 5
;665 6
public88 
ICollection88 
<88 
Review88 !
>88! "
Reviews88# *
{99 	
get:: 
=>:: 

LazyLoader:: 
.:: 
Load:: "
(::" #
this::# '
,::' (
ref::) ,
_reviews::- 5
)::5 6
;::6 7
set;; 
=>;; 
_reviews;; 
=;; 
value;; #
;;;# $
}<< 	
private== 
ICollection== 
<== 
Review== "
>==" #
_reviews==$ ,
;==, -
public?? 
ICollection?? 
<?? 
RequestBook?? &
>??& '
ReqestBooks??( 3
{@@ 	
getAA 
=>AA 

LazyLoaderAA 
.AA 
LoadAA "
(AA" #
thisAA# '
,AA' (
refAA) ,
_reqestBooksAA- 9
)AA9 :
;AA: ;
setBB 
=>BB 
_reqestBooksBB 
=BB  !
valueBB" '
;BB' (
}CC 	
privateDD 
ICollectionDD 
<DD 
RequestBookDD '
>DD' (
_reqestBooksDD) 5
;DD5 6
publicGG 
ICollectionGG 
<GG 

UserNotifyGG %
>GG% &
UserNotifiesGG' 3
{HH 	
getII 
=>II 

LazyLoaderII 
.II 
LoadII "
(II" #
thisII# '
,II' (
refII) ,
_userNotifiesII- :
)II: ;
;II; <
setJJ 
=>JJ 
_userNotifiesJJ  
=JJ! "
valueJJ# (
;JJ( )
}KK 	
privateLL 
ICollectionLL 
<LL 

UserNotifyLL &
>LL& '
_userNotifiesLL( 5
;LL5 6
publicNN 
ArrangementNN 
ArrangementNN &
{NN' (
getNN) ,
;NN, -
setNN. 1
;NN1 2
}NN3 4
privatePP 
ILazyLoaderPP 

LazyLoaderPP &
{PP' (
getPP) ,
;PP, -
setPP. 1
;PP1 2
}PP3 4
publicRR 
AppUserRR 
(RR 
)RR 
{RR 
}RR 
publicTT 
AppUserTT 
(TT 
ILazyLoaderTT "

lazyLoaderTT# -
)TT- .
{UU 	

LazyLoaderVV 
=VV 

lazyLoaderVV #
;VV# $
}WW 	
	protectedYY 
ILazyLoaderYY 
	GetLoaderYY '
(YY' (
)YY( )
{ZZ 	
return[[ 

LazyLoader[[ 
;[[ 
}\\ 	
}]] 
}^^ ı
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Arrangement.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[		 
DataContract		 
]		 
public

 

class

 
Arrangement

 
{ 
public 
AppUser 
AppUser 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Key	 
] 
public 
Guid 

AppUserUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
private 
ILazyLoader 

LazyLoader &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} ÿ
OC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Author.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
Serializable 
] 
[ 
DataContract 
] 
public 

class 
Author 
{ 
[ 	
Key	 
] 
[ 	

DataMember	 
( 
EmitDefaultValue $
=% &
false' ,
), -
]- .
public 
Guid 
	AuthorUid 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	

DataMember	 
] 
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	

DataMember	 
] 
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public 
string 

MiddleName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
ICollection 
< 

BookAuthor %
>% &
Books' ,
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_books- 3
)3 4
;4 5
set 
=> 
_books 
= 
value !
;! "
}   	
private!! 
ICollection!! 
<!! 

BookAuthor!! &
>!!& '
_books!!( .
;!!. /
private## 
ILazyLoader## 

LazyLoader## &
{##' (
get##) ,
;##, -
set##. 1
;##1 2
}##3 4
public%% 
Author%% 
(%% 
)%% 
{&& 	
}'' 	
public(( 
Author(( 
((( 
ILazyLoader(( !

lazyLoader((" ,
)((, -
{)) 	

LazyLoader** 
=** 

lazyLoader** #
;**# $
}++ 	
},, 
}-- Æ6
MC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Book.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
Serializable 
] 
[ 
DataContract 
] 
public 

class 
Book 
{ 
[ 	

DataMember	 
] 
public 
string 
Isbn 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Key	 
] 
[ 	

DataMember	 
( 
EmitDefaultValue $
=% &
false' ,
), -
]- .
public 
int 
BiaId 
{ 
get 
; 
set  #
;# $
}% &
[ 	

DataMember	 
] 
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
[ 	

DataMember	 
] 
public 
string 
Subtitle 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public   

LanguageId   
Language   "
{  # $
get  % (
;  ( )
set  * -
;  - .
}  / 0
["" 	

DataMember""	 
]"" 
public## 
int## 
?## 
Year## 
{## 
get## 
;## 
set##  #
;### $
}##% &
[%% 	

DataMember%%	 
(%% 
EmitDefaultValue%% $
=%%% &
false%%' ,
)%%, -
]%%- .
public&& 
int&& 
?&& 
Edition&& 
{&& 
get&& !
;&&! "
set&&# &
;&&& '
}&&( )
[(( 	

DataMember((	 
((( 
EmitDefaultValue(( $
=((% &
false((' ,
)((, -
]((- .
public)) 
int)) 
?)) 
Pages)) 
{)) 
get)) 
;))  
set))! $
;))$ %
}))& '
[++ 	

DataMember++	 
]++ 
public,, 
string,, 

CoverImage,,  
{,,! "
get,,# &
;,,& '
set,,( +
;,,+ ,
},,- .
[.. 	

DataMember..	 
].. 
public// 
string// 

Annotation//  
{//! "
get//# &
;//& '
set//( +
;//+ ,
}//- .
[11 	

DataMember11	 
(11 
EmitDefaultValue11 $
=11% &
false11' ,
)11, -
]11- .
public22 
int22 
AverageRating22  
{22! "
get22# &
;22& '
set22( +
;22+ ,
}22- .
public== 
ICollection== 
<== 

BookAuthor== %
>==% &
Authors==' .
{>> 	
get?? 
=>?? 

LazyLoader?? 
.?? 
Load?? "
(??" #
this??# '
,??' (
ref??) ,
_authors??- 5
)??5 6
;??6 7
set@@ 
=>@@ 
_authors@@ 
=@@ 
value@@ #
;@@# $
}AA 	
privateBB 
ICollectionBB 
<BB 

BookAuthorBB &
>BB& '
_authorsBB( 0
;BB0 1
publicDD 
virtualDD 
ICollectionDD "
<DD" #
BookCategoryDD# /
>DD/ 0
CathegoriesDD1 <
{EE 	
getFF 
=>FF 

LazyLoaderFF 
.FF 
LoadFF "
(FF" #
thisFF# '
,FF' (
refFF) ,
_CathegoriesFF- 9
)FF9 :
;FF: ;
setGG 
=>GG 
_CathegoriesGG 
=GG  !
valueGG" '
;GG' (
}HH 	
privateII 
ICollectionII 
<II 
BookCategoryII (
>II( )
_CathegoriesII* 6
;II6 7
publicKK 
ICollectionKK 
<KK 
ReviewKK !
>KK! "
ReviewsKK# *
{LL 	
getMM 
=>MM 

LazyLoaderMM 
.MM 
LoadMM "
(MM" #
thisMM# '
,MM' (
refMM) ,
_reviewsMM- 5
)MM5 6
;MM6 7
setNN 
=>NN 
_reviewsNN 
=NN 
valueNN #
;NN# $
}OO 	
privatePP 
ICollectionPP 
<PP 
ReviewPP "
>PP" #
_reviewsPP$ ,
;PP, -
publicRR 
ICollectionRR 
<RR 
RequestBookRR &
>RR& '
ReqestBooksRR( 3
{SS 	
getTT 
=>TT 

LazyLoaderTT 
.TT 
LoadTT "
(TT" #
thisTT# '
,TT' (
refTT) ,
_reqestBooksTT- 9
)TT9 :
;TT: ;
setUU 
=>UU 
_reqestBooksUU 
=UU  !
valueUU" '
;UU' (
}VV 	
privateWW 
ICollectionWW 
<WW 
RequestBookWW '
>WW' (
_reqestBooksWW) 5
;WW5 6
publicYY 
ICollectionYY 
<YY 
UploadHistoryYY (
>YY( )
UploadHistoryYY* 7
{ZZ 	
get[[ 
=>[[ 

LazyLoader[[ 
.[[ 
Load[[ "
([[" #
this[[# '
,[[' (
ref[[) ,
_uploadHistory[[- ;
)[[; <
;[[< =
set\\ 
=>\\ 
_uploadHistory\\ !
=\\" #
value\\$ )
;\\) *
}]] 	
private__ 
ICollection__ 
<__ 
UploadHistory__ )
>__) *
_uploadHistory__+ 9
;__9 :
privatebb 
ILazyLoaderbb 

LazyLoaderbb &
{bb' (
getbb) ,
;bb, -
setbb. 1
;bb1 2
}bb3 4
publicdd 
Bookdd 
(dd 
)dd 
{ee 	
}gg 	
publichh 
Bookhh 
(hh 
ILazyLoaderhh 

lazyLoaderhh  *
)hh* +
{ii 	

LazyLoaderjj 
=jj 

lazyLoaderjj #
;jj# $
}kk 	
	protectedmm 
ILazyLoadermm 
	GetLoadermm '
(mm' (
)mm( )
{nn 	
returnoo 

LazyLoaderoo 
;oo 
}pp 	
}qq 
}vv Äî
VC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\BookDbContext.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{		 
public 

class 
BookDbContext 
:  
	DbContext! *
{ 
public 
BookDbContext 
( 
DbContextOptions -
<- .
BookDbContext. ;
>; <
options= D
)D E
:F G
baseH L
(L M
optionsM T
)T U
{ 	
}
 
public 
DbSet 
< 
AppUser 
> 
AppUsers &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
Admin 
> 
Admins "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
Author 
> 
Authors $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
Review 
> 
Reviews $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
Category 
> 

Categories )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
DbSet 
< 

BookAuthor 
>  
BookAuthors! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
DbSet 
< 
DownloadHistory $
>$ %
DownloadHistories& 7
{8 9
get: =
;= >
set? B
;B C
}D E
public 
DbSet 
< 
UploadHistory "
>" #
UploadHistories$ 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
DbSet 
< 
Arrangement  
>  !
Arrangements" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
DbSet 
< 
Book 
> 
Books  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Ebook 
> 
Ebooks "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
	PaperBook 
> 

PaperBooks  *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public   
DbSet   
<   
RentHistory    
>    !
RentHistories  " /
{  0 1
get  2 5
;  5 6
set  7 :
;  : ;
}  < =
public!! 
DbSet!! 
<!! 
BookCategory!! !
>!!! "
BookCategories!!# 1
{!!2 3
get!!4 7
;!!7 8
set!!9 <
;!!< =
}!!> ?
public"" 
DbSet"" 
<"" 

UserNotify"" 
>""  
UserNotifies""! -
{"". /
get""0 3
;""3 4
set""5 8
;""8 9
}"": ;
public## 
DbSet## 
<## 
AdminNotify##  
>##  !
AdminNotifies##" /
{##0 1
get##2 5
;##5 6
set##7 :
;##: ;
}##< =
public$$ 
DbSet$$ 
<$$ 
IgnoredUser$$  
>$$  !
IgnoredUsers$$" .
{$$/ 0
get$$1 4
;$$4 5
set$$6 9
;$$9 :
}$$; <
public%% 
DbSet%% 
<%% 
RequestBook%%  
>%%  !
RequestBooks%%" .
{%%/ 0
get%%1 4
;%%4 5
set%%6 9
;%%9 :
}%%; <
	protected'' 
override'' 
void'' 
OnModelCreating''  /
(''/ 0
ModelBuilder''0 <
modelBuilder''= I
)''I J
{(( 	
modelBuilder)) 
.)) 
Entity)) 
<))  
Book))  $
>))$ %
())% &
)))& '
.** 
HasMany** 
(** 
b** 
=>** 
b** 
.**  
Reviews**  '
)**' (
.++ 
WithOne++ 
(++ 
r++ 
=>++ 
r++ 
.++  
Book++  $
)++$ %
.,, 
HasForeignKey,, 
(,, 
r,,  
=>,,! #
r,,$ %
.,,% &
BookId,,& ,
),,, -
;,,- .
modelBuilder.. 
... 
Entity.. 
<..  
Book..  $
>..$ %
(..% &
)..& '
.// 
HasMany// 
(// 
p// 
=>// 
p// 
.//  
Authors//  '
)//' (
.00 
WithOne00 
(00 
i00 
=>00 
i00 
.00  
Book00  $
)00$ %
;00% &
modelBuilder22 
.22 
Entity22 
<22  
Book22  $
>22$ %
(22% &
)22& '
.33 
HasMany33 
(33 
p33 
=>33 
p33 
.33  
ReqestBooks33  +
)33+ ,
.44 
WithOne44 
(44 
i44 
=>44 
i44 
.44  
Book44  $
)44$ %
;44% &
modelBuilder66 
.66 
Entity66 
<66  
	PaperBook66  )
>66) *
(66* +
)66+ ,
.77 
HasMany77 
(77 
p77 
=>77 
p77 
.77  
RentHistory77  +
)77+ ,
.88 
WithOne88 
(88 
i88 
=>88 
i88 
.88  
	TakenBook88  )
)88) *
;88* +
modelBuilder:: 
.:: 
Entity:: 
<::  
Ebook::  %
>::% &
(::& '
)::' (
.;; 
HasMany;; 
(;; 
p;; 
=>;; 
p;; 
.;;  
DownloadHistory;;  /
);;/ 0
.<< 
WithOne<< 
(<< 
i<< 
=><< 
i<< 
.<<  
DownloadedBook<<  .
)<<. /
;<</ 0
modelBuilder>> 
.>> 
Entity>> 
<>>  
AppUser>>  '
>>>' (
(>>( )
)>>) *
.?? 
HasMany?? 
(?? 
p?? 
=>?? 
p?? 
.??  
DownloadHistory??  /
)??/ 0
.@@ 
WithOne@@ 
(@@ 
i@@ 
=>@@ 
i@@ 
.@@  
User@@  $
)@@$ %
;@@% &
modelBuilderBB 
.BB 
EntityBB 
<BB  
AppUserBB  '
>BB' (
(BB( )
)BB) *
.CC 
HasManyCC 
(CC 
pCC 
=>CC 
pCC 
.CC  
RentHistoryCC  +
)CC+ ,
.DD 
WithOneDD 
(DD 
iDD 
=>DD 
iDD 
.DD  
UserDD  $
)DD$ %
;DD% &
modelBuilderFF 
.FF 
EntityFF 
<FF  
AppUserFF  '
>FF' (
(FF( )
)FF) *
.GG 
HasManyGG 
(GG 
iGG 
=>GG 
iGG 
.GG  

BooksTakenGG  *
)GG* +
.HH 
WithOneHH 
(HH 
pHH 
=>HH 
pHH 
.HH  
TakenByUserHH  +
)HH+ ,
;HH, -
modelBuilderJJ 
.JJ 
EntityJJ 
<JJ  
AppUserJJ  '
>JJ' (
(JJ( )
)JJ) *
.KK 
HasManyKK 
(KK 
iKK 
=>KK 
iKK 
.KK  
ReviewsKK  '
)KK' (
.LL 
WithOneLL 
(LL 
pLL 
=>LL 
pLL 
.LL  
RatedByLL  '
)LL' (
;LL( )
modelBuilderNN 
.NN 
EntityNN 
<NN  
AppUserNN  '
>NN' (
(NN( )
)NN) *
.OO 
HasManyOO 
(OO 
pOO 
=>OO 
pOO 
.OO  
ReqestBooksOO  +
)OO+ ,
.PP 
WithOnePP 
(PP 
iPP 
=>PP 
iPP 
.PP  
AppUserPP  '
)PP' (
;PP( )
modelBuilderRR 
.RR 
EntityRR 
<RR  
AppUserRR  '
>RR' (
(RR( )
)RR) *
.SS 
HasManySS 
(SS 
pSS 
=>SS 
pSS 
.SS  
UserNotifiesSS  ,
)SS, -
.TT 
WithOneTT 
(TT 
uTT 
=>TT 
uTT 
.TT  
AppUserTT  '
)TT' (
;TT( )
modelBuilderVV 
.VV 
EntityVV 
<VV  
AdminVV  %
>VV% &
(VV& '
)VV' (
.WW 
HasManyWW 
(WW 
pWW 
=>WW 
pWW 
.WW  
AdminNotifiesWW  -
)WW- .
.XX 
WithOneXX 
(XX 
aXX 
=>XX 
aXX 
.XX  
AdminXX  %
)XX% &
;XX& '
modelBuilderZZ 
.ZZ 
EntityZZ 
<ZZ  

BookAuthorZZ  *
>ZZ* +
(ZZ+ ,
)ZZ, -
.[[ 
HasKey[[ 
([[ 
ba[[ 
=>[[ 
new[[ !
{[[" #
ba[[$ &
.[[& '
BookId[[' -
,[[- .
ba[[/ 1
.[[1 2
	AuthorUid[[2 ;
}[[< =
)[[= >
;[[> ?
modelBuilder]] 
.]] 
Entity]] 
<]]  

BookAuthor]]  *
>]]* +
(]]+ ,
)]], -
.^^ 
HasOne^^ 
(^^ 
ba^^ 
=>^^ 
ba^^  
.^^  !
Book^^! %
)^^% &
.__ 
WithMany__ 
(__ 
a__ 
=>__ 
a__  
.__  !
Authors__! (
)__( )
.`` 
HasForeignKey`` 
(`` 
ba`` !
=>``" $
ba``% '
.``' (
BookId``( .
)``. /
;``/ 0
modelBuilderbb 
.bb 
Entitybb 
<bb  

BookAuthorbb  *
>bb* +
(bb+ ,
)bb, -
.cc 
HasOnecc 
(cc 
bacc 
=>cc 
bacc  
.cc  !
Authorcc! '
)cc' (
.dd 
WithManydd 
(dd 
add 
=>dd 
add  
.dd  !
Booksdd! &
)dd& '
.ee 
HasForeignKeyee 
(ee 
baee !
=>ee" $
baee% '
.ee' (
	AuthorUidee( 1
)ee1 2
;ee2 3
modelBuildergg 
.gg 
Entitygg 
<gg  
BookCategorygg  ,
>gg, -
(gg- .
)gg. /
.hh 
HasKeyhh 
(hh 
chh 
=>hh 
newhh  
{hh! "
chh# $
.hh$ %
BookIdhh% +
,hh+ ,
chh- .
.hh. /

CategoryIdhh/ 9
}hh: ;
)hh; <
;hh< =
modelBuilderjj 
.jj 
Entityjj 
<jj  
BookCategoryjj  ,
>jj, -
(jj- .
)jj. /
.kk 
HasOnekk 
(kk 
bakk 
=>kk 
bakk  
.kk  !
Bookkk! %
)kk% &
.ll 
WithManyll 
(ll 
all 
=>ll 
all  
.ll  !
Cathegoriesll! ,
)ll, -
.mm 
HasForeignKeymm 
(mm 
bamm !
=>mm" $
bamm% '
.mm' (
BookIdmm( .
)mm. /
;mm/ 0
modelBuilderoo 
.oo 
Entityoo 
<oo  
BookCategoryoo  ,
>oo, -
(oo- .
)oo. /
.pp 
HasOnepp 
(pp 
bapp 
=>pp 
bapp  
.pp  !
Categorypp! )
)pp) *
.qq 
WithManyqq 
(qq 
aqq 
=>qq 
aqq  
.qq  !
Booksqq! &
)qq& '
.rr 
HasForeignKeyrr 
(rr 
barr !
=>rr" $
barr% '
.rr' (

CategoryIdrr( 2
)rr2 3
;rr3 4
modelBuildertt 
.tt 
Entitytt 
<tt  

UserNotifytt  *
>tt* +
(tt+ ,
)tt, -
.uu 
HasKeyuu 
(uu 
rbuu 
=>uu 
newuu !
{uu" #
rbuu$ &
.uu& '
Uiduu' *
,uu* +
rbuu, .
.uu. /
BookIduu/ 5
}uu6 7
)uu7 8
;uu8 9
modelBuilderww 
.ww 
Entityww 
<ww  

UserNotifyww  *
>ww* +
(ww+ ,
)ww, -
.xx 
HasOnexx 
(xx 
unxx 
=>xx 
unxx  
.xx  !
AppUserxx! (
)xx( )
.yy 
WithManyyy 
(yy 
unyy 
=>yy 
unyy  "
.yy" #
UserNotifiesyy# /
)yy/ 0
.zz 
HasForeignKeyzz 
(zz 
unzz !
=>zz" $
unzz% '
.zz' (
Uidzz( +
)zz+ ,
;zz, -
modelBuilder|| 
.|| 
Entity|| 
<||  
RequestBook||  +
>||+ ,
(||, -
)||- .
.}} 
HasKey}} 
(}} 
rb}} 
=>}} 
new}} !
{}}" #
rb}}# %
.}}% &
BookId}}& ,
,}}, -
rb}}. 0
.}}0 1

AppUserUid}}1 ;
}}}< =
)}}= >
;}}> ?
modelBuilder 
. 
Entity 
<  
RequestBook  +
>+ ,
(, -
)- .
.
ÄÄ 
HasOne
ÄÄ 
(
ÄÄ 
ba
ÄÄ 
=>
ÄÄ 
ba
ÄÄ  
.
ÄÄ  !
Book
ÄÄ! %
)
ÄÄ% &
.
ÅÅ 
WithMany
ÅÅ 
(
ÅÅ 
a
ÅÅ 
=>
ÅÅ 
a
ÅÅ  
.
ÅÅ  !
ReqestBooks
ÅÅ! ,
)
ÅÅ, -
.
ÇÇ 
HasForeignKey
ÇÇ 
(
ÇÇ 
ba
ÇÇ !
=>
ÇÇ" $
ba
ÇÇ% '
.
ÇÇ' (
BookId
ÇÇ( .
)
ÇÇ. /
;
ÇÇ/ 0
modelBuilder
ÑÑ 
.
ÑÑ 
Entity
ÑÑ 
<
ÑÑ  
RequestBook
ÑÑ  +
>
ÑÑ+ ,
(
ÑÑ, -
)
ÑÑ- .
.
ÖÖ 
HasOne
ÖÖ 
(
ÖÖ 
ba
ÖÖ 
=>
ÖÖ 
ba
ÖÖ  
.
ÖÖ  !
AppUser
ÖÖ! (
)
ÖÖ( )
.
ÜÜ 
WithMany
ÜÜ 
(
ÜÜ 
a
ÜÜ 
=>
ÜÜ 
a
ÜÜ  
.
ÜÜ  !
ReqestBooks
ÜÜ! ,
)
ÜÜ, -
.
áá 
HasForeignKey
áá 
(
áá 
ba
áá !
=>
áá" $
ba
áá% '
.
áá' (

AppUserUid
áá( 2
)
áá2 3
;
áá3 4
modelBuilder
ää 
.
ää 
Entity
ää 
<
ää  
AppUser
ää  '
>
ää' (
(
ää( )
)
ää) *
.
ãã 
HasOne
ãã 
(
ãã 
q
ãã 
=>
ãã 
q
ãã 
.
ãã 
Ignored
ãã &
)
ãã& '
.
åå 
WithOne
åå 
(
åå 
q
åå 
=>
åå 
q
åå 
.
åå  
AppUser
åå  '
)
åå' (
.
çç 
HasForeignKey
çç 
<
çç 
IgnoredUser
çç *
>
çç* +
(
çç+ ,
q
çç, -
=>
çç. 0
q
çç1 2
.
çç2 3

AppUserUid
çç3 =
)
çç= >
;
çç> ?
modelBuilder
èè 
.
èè 
Entity
èè 
<
èè  
AppUser
èè  '
>
èè' (
(
èè( )
)
èè) *
.
êê 
HasOne
êê 
(
êê 
q
êê 
=>
êê 
q
êê 
.
êê 
Arrangement
êê *
)
êê* +
.
ëë 
WithOne
ëë 
(
ëë 
q
ëë 
=>
ëë 
q
ëë 
.
ëë  
AppUser
ëë  '
)
ëë' (
.
íí 
HasForeignKey
íí 
<
íí 
Arrangement
íí *
>
íí* +
(
íí+ ,
q
íí, -
=>
íí. 0
q
íí1 2
.
íí2 3

AppUserUid
íí3 =
)
íí= >
;
íí> ?
modelBuilder
îî 
.
îî 
Entity
îî 
<
îî  
UploadHistory
îî  -
>
îî- .
(
îî. /
)
îî/ 0
.
ïï 
HasKey
ïï 
(
ïï 
c
ïï 
=>
ïï 
new
ïï  
{
ïï! "
c
ïï# $
.
ïï$ %

AppUserUid
ïï% /
,
ïï/ 0
c
ïï1 2
.
ïï2 3
BookId
ïï3 9
}
ïï: ;
)
ïï; <
;
ïï< =
modelBuilder
òò 
.
òò 
Entity
òò 
<
òò  
AppUser
òò  '
>
òò' (
(
òò( )
)
òò) *
.
òò* +
Property
òò+ 3
(
òò3 4
b
òò4 5
=>
òò6 8
b
òò9 :
.
òò: ;
Discriminator
òò; H
)
òòH I
.
òòI J
Metadata
òòJ R
.
òòR S
AfterSaveBehavior
òòS d
=
òòe f"
PropertySaveBehavior
òòg {
.
òò{ |
Saveòò| Ä
;òòÄ Å
}
ôô 	
}
öö 
}õõ Ç%
]C:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\BookDbContextFactory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public		 

class		  
BookDbContextFactory		 %
:		& ''
IDesignTimeDbContextFactory		( C
<		C D
BookDbContext		D Q
>		Q R
{

 
private 
readonly 
string 
_connectionString  1
;1 2
public  
BookDbContextFactory #
(# $
)$ %
{ 	
} 	
public  
BookDbContextFactory #
(# $
string$ *
connectionString+ ;
); <
{ 	
_connectionString 
= 
connectionString  0
;0 1
} 	
public 
BookDbContext 
CreateDbContext ,
(, -
string- 3
[3 4
]4 5
args6 :
): ;
{ 	
var 
dbContextBuilder  
=! "
new# &#
DbContextOptionsBuilder' >
<> ?
BookDbContext? L
>L M
(M N
)N O
;O P
string !
migrationAssemblyName (
=) *
typeof+ 1
(1 2
BookDbContext2 ?
)? @
.@ A
	NamespaceA J
;J K
string 

connection 
= 
$str  r
;r s
if.. 
(.. 
string.. 
... 
IsNullOrWhiteSpace.. )
(..) *

connection..* 4
)..4 5
)..5 6

connection..7 A
=..B C
_connectionString..D U
;..U V
dbContextBuilder00 
.00 
UseMySql00 %
(00% &

connection00& 0
,000 1
optionsBuilder002 @
=>00A C
optionsBuilder00D R
.00R S
MigrationsAssembly00S e
(00e f!
migrationAssemblyName00f {
)00{ |
)00| }
;00} ~
return22 
new22 
BookDbContext22 $
(22$ %
dbContextBuilder22% 5
.225 6
Options226 =
)22= >
;22> ?
}33 	
public55 
BookDbContext55 
CreateDbContext55 ,
(55, -
)55- .
{66 	
return77 
new77 
BookDbContext77 $
(77$ %
new77% (#
DbContextOptionsBuilder77) @
<77@ A
BookDbContext77A N
>77N O
(77O P
)77P Q
.77Q R
UseMySql77R Z
(77Z [
_connectionString77[ l
)77l m
.77m n
Options77n u
)77u v
;77v w
}88 	
}99 
public;; 

class;; !
BookDbContextProvider;; &
{<< 
private== 
readonly== #
DbContextOptionsBuilder== 0
<==0 1
BookDbContext==1 >
>==> ?
_optionsBuilder==@ O
;==O P
private>> 
readonly>>  
BookDbContextFactory>> -
_factory>>. 6
;>>6 7
public@@ !
BookDbContextProvider@@ $
(@@$ %
string@@% +
connectionString@@, <
)@@< =
{AA 	
_optionsBuilderBB 
=BB 
newBB !#
DbContextOptionsBuilderBB" 9
<BB9 :
BookDbContextBB: G
>BBG H
(BBH I
)BBI J
;BBJ K
_optionsBuilderCC 
.CC 
UseMySqlCC $
(CC$ %
connectionStringCC% 5
)CC5 6
;CC6 7
_factoryDD 
=DD 
newDD  
BookDbContextFactoryDD /
(DD/ 0
)DD0 1
;DD1 2
}EE 	
publicGG 
DbContextOptionsGG 
<GG  
BookDbContextGG  -
>GG- .
OptionsGG/ 6
=>GG7 9
_optionsBuilderGG: I
.GGI J
OptionsGGJ Q
;GGQ R
publicII 
BookDbContextII 
CreateDbContextII ,
(II, -
)II- .
{JJ 	
returnKK 
newKK 
BookDbContextKK $
(KK$ %
_optionsBuilderKK% 4
.KK4 5
OptionsKK5 <
)KK< =
;KK= >
}LL 	
publicNN  
BookDbContextFactoryNN #"
GetRpsDbContextFactoryNN$ :
(NN: ;
)NN; <
{OO 	
returnPP 
_factoryPP 
;PP 
}QQ 	
}SS 
}TT œ
QC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Category.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
DataContract 
] 
public 

class 
Category 
{ 
[ 	
Key	 
] 
[ 	

DataMember	 
] 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 

CategoryId 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	

DataMember	 
] 
public 
string 
CategoryName "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
ICollection 
< 
BookCategory '
>' (
Books) .
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_books- 3
)3 4
;4 5
set 
=> 
_books 
= 
value !
;! "
} 	
public 
ICollection 
< 
BookCategory '
>' (
_books) /
;/ 0
private 
ILazyLoader 

LazyLoader &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Category 
( 
) 
{   	
}"" 	
public## 
Category## 
(## 
ILazyLoader## #

lazyLoader##$ .
)##. /
{$$ 	

LazyLoader%% 
=%% 

lazyLoader%% #
;%%# $
}&& 	
}'' 
}(( ù
XC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\DownloadHistory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
DownloadHistory  
{ 
[ 	
Key	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
public 
DateTime 
DownloadDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
AppUser 
User 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_user- 2
)2 3
;3 4
set 
=> 
_user 
= 
value  
;  !
} 	
private 
AppUser 
_user 
; 
public 
Ebook 
DownloadedBook #
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_downloadedBook- <
)< =
;= >
set 
=> 
_downloadedBook "
=# $
value% *
;* +
} 	
private 
Ebook 
_downloadedBook %
;% &
private 
ILazyLoader 

LazyLoader &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public!! 
DownloadHistory!! 
(!! 
)!!  
{"" 	
}$$ 	
public&& 
DownloadHistory&& 
(&& 
ILazyLoader&& *

lazyLoader&&+ 5
)&&5 6
{'' 	

LazyLoader(( 
=(( 

lazyLoader(( #
;((# $
})) 	
}++ 
},, Â
NC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Ebook.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
Ebook 
: 
Book 
{		 
public

 
Ebook

 
(

 
)

 
{ 	
} 	
public 
Ebook 
( 
ILazyLoader  

lazyLoader! +
)+ ,
:- .
base/ 3
(3 4

lazyLoader4 >
)> ?
{ 	
} 	
public 
EbookFormatId 
EbookFormat (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
int 
? 
Size 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Link 
{ 
get  
;  !
set" %
;% &
}' (
public 
ICollection 
< 
DownloadHistory *
>* +
DownloadHistory, ;
{ 	
get 
=> 
base 
. 
	GetLoader !
(! "
)" #
.# $
Load$ (
(( )
this) -
,- .
ref/ 2
_downloadHistory3 C
)C D
;D E
set 
=> 
_downloadHistory #
=$ %
value& +
;+ ,
} 	
private 
ICollection 
< 
DownloadHistory +
>+ ,
_downloadHistory- =
;= >
} 
} Ë
fC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\EfManyToManyModels\BookAuthor.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
DataContract 
] 
public 

class 

BookAuthor 
{ 
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
Guid 
	AuthorUid 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_book- 2
)2 3
;3 4
set 
=> 
_book 
= 
value  
;  !
} 	
private 
Book 
_book 
; 
public 
Author 
Author 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_author- 4
)4 5
;5 6
set 
=> 
_author 
= 
value "
;" #
} 	
private   
Author   
_author   
;   
private"" 
ILazyLoader"" 

LazyLoader"" &
{""' (
get"") ,
;"", -
set"". 1
;""1 2
}""3 4
public$$ 

BookAuthor$$ 
($$ 
)$$ 
{%% 	
}'' 	
public(( 

BookAuthor(( 
((( 
ILazyLoader(( %

lazyLoader((& 0
)((0 1
{)) 	

LazyLoader** 
=** 

lazyLoader** #
;**# $
}++ 	
},, 
}-- ¸
hC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\EfManyToManyModels\BookCategory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{		 
[ 
DataContract 
] 
public 

class 
BookCategory 
{ 
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
int 

CategoryId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref( +
_book, 1
)1 2
;2 3
set 
=> 
_book 
= 
value  
;  !
} 	
private 
Book 
_book 
; 
public 
Category 
Category  
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
	_category- 6
)6 7
;7 8
set 
=> 
	_category 
= 
value $
;$ %
}   	
private!! 
Category!! 
	_category!! "
;!!" #
private## 
ILazyLoader## 

LazyLoader## &
{##' (
get##) ,
;##, -
set##. 1
;##1 2
}##3 4
public%% 
BookCategory%% 
(%% 
)%% 
{&& 	
}(( 	
public** 
BookCategory** 
(** 
ILazyLoader** '

lazyLoader**( 2
)**2 3
{++ 	

LazyLoader,, 
=,, 

lazyLoader,, #
;,,# $
}-- 	
}.. 
}// ß 
[C:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Enum\AccessGroupId.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

enum 
AccessGroupId 
{ 
None 
= 
$num 
, 
	Developer 
= 
$num 
, 
Admin 
= 
$num 
, 
Common 
= 
$num 
} 
public 

static 
class #
AccessGroupIdExtentions /
{ 
public 
static 
IList 
< 
Claim !
>! "
GetClaimsValues# 2
(2 3
this3 7
AccessGroupId8 E
accessF L
)L M
{ 	
var 
claims 
= 
new 
List !
<! "
Claim" '
>' (
(( )
)) *
;* +
if 
( 
access 
== 
AccessGroupId '
.' (
Common( .
). /
{ 
claims 
. 
Add 
( 
new 
Claim $
($ %
S% &
.& '
AccessLevelClaim' 7
,7 8
AccessGroupId9 F
.F G
CommonG M
.M N
ToStringN V
(V W
)W X
)X Y
)Y Z
;Z [
return 
claims 
; 
} 
if 
( 
access 
== 
AccessGroupId '
.' (
	Developer( 1
)1 2
{ 
claims   
.   
Add   
(   
new   
Claim   $
(  $ %
S  % &
.  & '
AccessLevelClaim  ' 7
,  7 8
AccessGroupId  9 F
.  F G
	Developer  G P
.  P Q
ToString  Q Y
(  Y Z
)  Z [
)  [ \
)  \ ]
;  ] ^
claims!! 
.!! 
Add!! 
(!! 
new!! 
Claim!! $
(!!$ %
S!!% &
.!!& '
AccessLevelClaim!!' 7
,!!7 8
AccessGroupId!!9 F
.!!F G
Admin!!G L
.!!L M
ToString!!M U
(!!U V
)!!V W
)!!W X
)!!X Y
;!!Y Z
claims"" 
."" 
Add"" 
("" 
new"" 
Claim"" $
(""$ %
S""% &
.""& '
AccessLevelClaim""' 7
,""7 8
AccessGroupId""9 F
.""F G
Common""G M
.""M N
ToString""N V
(""V W
)""W X
)""X Y
)""Y Z
;""Z [
return## 
claims## 
;## 
}$$ 
if%% 
(%% 
access%% 
==%% 
AccessGroupId%% '
.%%' (
Admin%%( -
)%%- .
{&& 
claims'' 
.'' 
Add'' 
('' 
new'' 
Claim'' $
(''$ %
S''% &
.''& '
AccessLevelClaim''' 7
,''7 8
AccessGroupId''9 F
.''F G
Admin''G L
.''L M
ToString''M U
(''U V
)''V W
)''W X
)''X Y
;''Y Z
claims(( 
.(( 
Add(( 
((( 
new(( 
Claim(( $
((($ %
S((% &
.((& '
AccessLevelClaim((' 7
,((7 8
AccessGroupId((9 F
.((F G
Common((G M
.((M N
ToString((N V
(((V W
)((W X
)((X Y
)((Y Z
;((Z [
return)) 
claims)) 
;)) 
}** 
return,, 
claims,, 
;,, 
}-- 	
}.. 
}// â
^C:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Enum\AdminNotifyTypes.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
.' (
Enum( ,
{ 
public 

enum 
AdminNotifyTypes  
{ 
None		 
=		 
$num		 
,		 
General

 
=

 
$num

 
} 
} ü
[C:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Enum\EbookFormatId.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

enum 
EbookFormatId 
{ 
None		 
=		 
$num		 
,		 
Pdf

 
,

 
Fb2 
, 
Epub 
, 
Djvu 
} 
} ◊
XC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Enum\LanguageId.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

enum 

LanguageId 
{ 
Eng		 
=		 
$num		 
,		 
Rus

 
=

 
$num

 
} 
} ∑
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\IgnoredUser.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{		 
[

 
DataContract

 
]

 
public 

class 
IgnoredUser 
{ 
[ 	
Key	 
] 
[ 	

DataMember	 
] 
public 
Guid 

AppUserUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
AppUser 
AppUser 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} °ˆ
jC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Migrations\20231009131655_Initial.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
.' (

Migrations( 2
{ 
public 

partial 
class 
Initial  
:! "
	Migration# ,
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Uid 
= 
table 
.  
Column  &
<& '
Guid' +
>+ ,
(, -
nullable- 5
:5 6
false7 <
)< =
,= >
	LoginName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
nullable5 =
:= >
true? C
)C D
,D E
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
nullable5 =
:= >
true? C
)C D
,D E
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
nullable4 <
:< =
true> B
)B C
,C D
FullName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
nullable4 <
:< =
true> B
)B C
,C D
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
nullable1 9
:9 :
true; ?
)? @
,@ A
IsActive 
= 
table $
.$ %
Column% +
<+ ,
bool, 0
>0 1
(1 2
nullable2 :
:: ;
false< A
)A B
,B C

DateJoined 
=  
table! &
.& '
Column' -
<- .
DateTime. 6
>6 7
(7 8
nullable8 @
:@ A
falseB G
)G H
,H I
AccessGroup 
=  !
table" '
.' (
Column( .
<. /
int/ 2
>2 3
(3 4
nullable4 <
:< =
false> C
)C D
,D E
Discriminator !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
nullable9 A
:A B
falseC H
)H I
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 2
,2 3
x4 5
=>6 8
x9 :
.: ;
Uid; >
)> ?
;? @
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name   
:   
$str   
,    
columns!! 
:!! 
table!! 
=>!! !
new!!" %
{"" 
	AuthorUid## 
=## 
table##  %
.##% &
Column##& ,
<##, -
Guid##- 1
>##1 2
(##2 3
nullable##3 ;
:##; <
false##= B
)##B C
,##C D
	FirstName$$ 
=$$ 
table$$  %
.$$% &
Column$$& ,
<$$, -
string$$- 3
>$$3 4
($$4 5
nullable$$5 =
:$$= >
true$$? C
)$$C D
,$$D E
LastName%% 
=%% 
table%% $
.%%$ %
Column%%% +
<%%+ ,
string%%, 2
>%%2 3
(%%3 4
nullable%%4 <
:%%< =
true%%> B
)%%B C
,%%C D

MiddleName&& 
=&&  
table&&! &
.&&& '
Column&&' -
<&&- .
string&&. 4
>&&4 5
(&&5 6
nullable&&6 >
:&&> ?
true&&@ D
)&&D E
}'' 
,'' 
constraints(( 
:(( 
table(( "
=>((# %
{)) 
table** 
.** 

PrimaryKey** $
(**$ %
$str**% 1
,**1 2
x**3 4
=>**5 7
x**8 9
.**9 :
	AuthorUid**: C
)**C D
;**D E
}++ 
)++ 
;++ 
migrationBuilder-- 
.-- 
CreateTable-- (
(--( )
name.. 
:.. 
$str.. "
,.." #
columns// 
:// 
table// 
=>// !
new//" %
{00 

CategoryId11 
=11  
table11! &
.11& '
Column11' -
<11- .
int11. 1
>111 2
(112 3
nullable113 ;
:11; <
false11= B
)11B C
.22 

Annotation22 #
(22# $
$str22$ C
,22C D(
MySqlValueGenerationStrategy22E a
.22a b
IdentityColumn22b p
)22p q
,22q r
CategoryName33  
=33! "
table33# (
.33( )
Column33) /
<33/ 0
string330 6
>336 7
(337 8
nullable338 @
:33@ A
true33B F
)33F G
}44 
,44 
constraints55 
:55 
table55 "
=>55# %
{66 
table77 
.77 

PrimaryKey77 $
(77$ %
$str77% 4
,774 5
x776 7
=>778 :
x77; <
.77< =

CategoryId77= G
)77G H
;77H I
}88 
)88 
;88 
migrationBuilder:: 
.:: 
CreateTable:: (
(::( )
name;; 
:;; 
$str;; %
,;;% &
columns<< 
:<< 
table<< 
=><< !
new<<" %
{== 
NotifyId>> 
=>> 
table>> $
.>>$ %
Column>>% +
<>>+ ,
int>>, /
>>>/ 0
(>>0 1
nullable>>1 9
:>>9 :
false>>; @
)>>@ A
,>>A B
Uid?? 
=?? 
table?? 
.??  
Column??  &
<??& '
Guid??' +
>??+ ,
(??, -
nullable??- 5
:??5 6
false??7 <
)??< =
}@@ 
,@@ 
constraintsAA 
:AA 
tableAA "
=>AA# %
{BB 
tableCC 
.CC 

PrimaryKeyCC $
(CC$ %
$strCC% 7
,CC7 8
xCC9 :
=>CC; =
xCC> ?
.CC? @
NotifyIdCC@ H
)CCH I
;CCI J
tableDD 
.DD 

ForeignKeyDD $
(DD$ %
nameEE 
:EE 
$strEE =
,EE= >
columnFF 
:FF 
xFF  !
=>FF" $
xFF% &
.FF& '
UidFF' *
,FF* +
principalTableGG &
:GG& '
$strGG( 2
,GG2 3
principalColumnHH '
:HH' (
$strHH) .
,HH. /
onDeleteII  
:II  !
ReferentialActionII" 3
.II3 4
CascadeII4 ;
)II; <
;II< =
}JJ 
)JJ 
;JJ 
migrationBuilderLL 
.LL 
CreateTableLL (
(LL( )
nameMM 
:MM 
$strMM $
,MM$ %
columnsNN 
:NN 
tableNN 
=>NN !
newNN" %
{OO 

AppUserUidPP 
=PP  
tablePP! &
.PP& '
ColumnPP' -
<PP- .
GuidPP. 2
>PP2 3
(PP3 4
nullablePP4 <
:PP< =
falsePP> C
)PPC D
,PPD E
DateQQ 
=QQ 
tableQQ  
.QQ  !
ColumnQQ! '
<QQ' (
DateTimeQQ( 0
>QQ0 1
(QQ1 2
nullableQQ2 :
:QQ: ;
falseQQ< A
)QQA B
}RR 
,RR 
constraintsSS 
:SS 
tableSS "
=>SS# %
{TT 
tableUU 
.UU 

PrimaryKeyUU $
(UU$ %
$strUU% 6
,UU6 7
xUU8 9
=>UU: <
xUU= >
.UU> ?

AppUserUidUU? I
)UUI J
;UUJ K
tableVV 
.VV 

ForeignKeyVV $
(VV$ %
nameWW 
:WW 
$strWW C
,WWC D
columnXX 
:XX 
xXX  !
=>XX" $
xXX% &
.XX& '

AppUserUidXX' 1
,XX1 2
principalTableYY &
:YY& '
$strYY( 2
,YY2 3
principalColumnZZ '
:ZZ' (
$strZZ) .
,ZZ. /
onDelete[[  
:[[  !
ReferentialAction[[" 3
.[[3 4
Cascade[[4 ;
)[[; <
;[[< =
}\\ 
)\\ 
;\\ 
migrationBuilder^^ 
.^^ 
CreateTable^^ (
(^^( )
name__ 
:__ 
$str__ 
,__ 
columns`` 
:`` 
table`` 
=>`` !
new``" %
{aa 
BiaIdbb 
=bb 
tablebb !
.bb! "
Columnbb" (
<bb( )
intbb) ,
>bb, -
(bb- .
nullablebb. 6
:bb6 7
falsebb8 =
)bb= >
.cc 

Annotationcc #
(cc# $
$strcc$ C
,ccC D(
MySqlValueGenerationStrategyccE a
.cca b
IdentityColumnccb p
)ccp q
,ccq r
Isbndd 
=dd 
tabledd  
.dd  !
Columndd! '
<dd' (
stringdd( .
>dd. /
(dd/ 0
nullabledd0 8
:dd8 9
truedd: >
)dd> ?
,dd? @
Titleee 
=ee 
tableee !
.ee! "
Columnee" (
<ee( )
stringee) /
>ee/ 0
(ee0 1
nullableee1 9
:ee9 :
trueee; ?
)ee? @
,ee@ A
Subtitleff 
=ff 
tableff $
.ff$ %
Columnff% +
<ff+ ,
stringff, 2
>ff2 3
(ff3 4
nullableff4 <
:ff< =
trueff> B
)ffB C
,ffC D
Languagegg 
=gg 
tablegg $
.gg$ %
Columngg% +
<gg+ ,
intgg, /
>gg/ 0
(gg0 1
nullablegg1 9
:gg9 :
falsegg; @
)gg@ A
,ggA B
Yearhh 
=hh 
tablehh  
.hh  !
Columnhh! '
<hh' (
inthh( +
>hh+ ,
(hh, -
nullablehh- 5
:hh5 6
truehh7 ;
)hh; <
,hh< =
Editionii 
=ii 
tableii #
.ii# $
Columnii$ *
<ii* +
intii+ .
>ii. /
(ii/ 0
nullableii0 8
:ii8 9
trueii: >
)ii> ?
,ii? @
Pagesjj 
=jj 
tablejj !
.jj! "
Columnjj" (
<jj( )
intjj) ,
>jj, -
(jj- .
nullablejj. 6
:jj6 7
truejj8 <
)jj< =
,jj= >

CoverImagekk 
=kk  
tablekk! &
.kk& '
Columnkk' -
<kk- .
stringkk. 4
>kk4 5
(kk5 6
nullablekk6 >
:kk> ?
truekk@ D
)kkD E
,kkE F

Annotationll 
=ll  
tablell! &
.ll& '
Columnll' -
<ll- .
stringll. 4
>ll4 5
(ll5 6
nullablell6 >
:ll> ?
truell@ D
)llD E
,llE F
AverageRatingmm !
=mm" #
tablemm$ )
.mm) *
Columnmm* 0
<mm0 1
intmm1 4
>mm4 5
(mm5 6
nullablemm6 >
:mm> ?
falsemm@ E
)mmE F
,mmF G
Discriminatornn !
=nn" #
tablenn$ )
.nn) *
Columnnn* 0
<nn0 1
stringnn1 7
>nn7 8
(nn8 9
nullablenn9 A
:nnA B
falsennC H
)nnH I
,nnI J
EbookFormatoo 
=oo  !
tableoo" '
.oo' (
Columnoo( .
<oo. /
intoo/ 2
>oo2 3
(oo3 4
nullableoo4 <
:oo< =
trueoo> B
)ooB C
,ooC D
Sizepp 
=pp 
tablepp  
.pp  !
Columnpp! '
<pp' (
intpp( +
>pp+ ,
(pp, -
nullablepp- 5
:pp5 6
truepp7 ;
)pp; <
,pp< =
Linkqq 
=qq 
tableqq  
.qq  !
Columnqq! '
<qq' (
stringqq( .
>qq. /
(qq/ 0
nullableqq0 8
:qq8 9
trueqq: >
)qq> ?
,qq? @
TakenDuerr 
=rr 
tablerr $
.rr$ %
Columnrr% +
<rr+ ,
DateTimerr, 4
>rr4 5
(rr5 6
nullablerr6 >
:rr> ?
truerr@ D
)rrD E
,rrE F
TakenByUserUidss "
=ss# $
tabless% *
.ss* +
Columnss+ 1
<ss1 2
Guidss2 6
>ss6 7
(ss7 8
nullabless8 @
:ss@ A
truessB F
)ssF G
}tt 
,tt 
constraintsuu 
:uu 
tableuu "
=>uu# %
{vv 
tableww 
.ww 

PrimaryKeyww $
(ww$ %
$strww% /
,ww/ 0
xww1 2
=>ww3 5
xww6 7
.ww7 8
BiaIdww8 =
)ww= >
;ww> ?
tablexx 
.xx 

ForeignKeyxx $
(xx$ %
nameyy 
:yy 
$stryy @
,yy@ A
columnzz 
:zz 
xzz  !
=>zz" $
xzz% &
.zz& '
TakenByUserUidzz' 5
,zz5 6
principalTable{{ &
:{{& '
$str{{( 2
,{{2 3
principalColumn|| '
:||' (
$str||) .
,||. /
onDelete}}  
:}}  !
ReferentialAction}}" 3
.}}3 4
Restrict}}4 <
)}}< =
;}}= >
}~~ 
)~~ 
;~~ 
migrationBuilder
ÄÄ 
.
ÄÄ 
CreateTable
ÄÄ (
(
ÄÄ( )
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ $
,
ÅÅ$ %
columns
ÇÇ 
:
ÇÇ 
table
ÇÇ 
=>
ÇÇ !
new
ÇÇ" %
{
ÉÉ 

AppUserUid
ÑÑ 
=
ÑÑ  
table
ÑÑ! &
.
ÑÑ& '
Column
ÑÑ' -
<
ÑÑ- .
Guid
ÑÑ. 2
>
ÑÑ2 3
(
ÑÑ3 4
nullable
ÑÑ4 <
:
ÑÑ< =
false
ÑÑ> C
)
ÑÑC D
}
ÖÖ 
,
ÖÖ 
constraints
ÜÜ 
:
ÜÜ 
table
ÜÜ "
=>
ÜÜ# %
{
áá 
table
àà 
.
àà 

PrimaryKey
àà $
(
àà$ %
$str
àà% 6
,
àà6 7
x
àà8 9
=>
àà: <
x
àà= >
.
àà> ?

AppUserUid
àà? I
)
ààI J
;
ààJ K
table
ââ 
.
ââ 

ForeignKey
ââ $
(
ââ$ %
name
ää 
:
ää 
$str
ää C
,
ääC D
column
ãã 
:
ãã 
x
ãã  !
=>
ãã" $
x
ãã% &
.
ãã& '

AppUserUid
ãã' 1
,
ãã1 2
principalTable
åå &
:
åå& '
$str
åå( 2
,
åå2 3
principalColumn
çç '
:
çç' (
$str
çç) .
,
çç. /
onDelete
éé  
:
éé  !
ReferentialAction
éé" 3
.
éé3 4
Cascade
éé4 ;
)
éé; <
;
éé< =
}
èè 
)
èè 
;
èè 
migrationBuilder
ëë 
.
ëë 
CreateTable
ëë (
(
ëë( )
name
íí 
:
íí 
$str
íí #
,
íí# $
columns
ìì 
:
ìì 
table
ìì 
=>
ìì !
new
ìì" %
{
îî 
BookId
ïï 
=
ïï 
table
ïï "
.
ïï" #
Column
ïï# )
<
ïï) *
int
ïï* -
>
ïï- .
(
ïï. /
nullable
ïï/ 7
:
ïï7 8
false
ïï9 >
)
ïï> ?
,
ïï? @
	AuthorUid
ññ 
=
ññ 
table
ññ  %
.
ññ% &
Column
ññ& ,
<
ññ, -
Guid
ññ- 1
>
ññ1 2
(
ññ2 3
nullable
ññ3 ;
:
ññ; <
false
ññ= B
)
ññB C
}
óó 
,
óó 
constraints
òò 
:
òò 
table
òò "
=>
òò# %
{
ôô 
table
öö 
.
öö 

PrimaryKey
öö $
(
öö$ %
$str
öö% 5
,
öö5 6
x
öö7 8
=>
öö9 ;
new
öö< ?
{
öö@ A
x
ööB C
.
ööC D
BookId
ööD J
,
ööJ K
x
ööL M
.
ööM N
	AuthorUid
ööN W
}
ööX Y
)
ööY Z
;
ööZ [
table
õõ 
.
õõ 

ForeignKey
õõ $
(
õõ$ %
name
úú 
:
úú 
$str
úú @
,
úú@ A
column
ùù 
:
ùù 
x
ùù  !
=>
ùù" $
x
ùù% &
.
ùù& '
	AuthorUid
ùù' 0
,
ùù0 1
principalTable
ûû &
:
ûû& '
$str
ûû( 1
,
ûû1 2
principalColumn
üü '
:
üü' (
$str
üü) 4
,
üü4 5
onDelete
††  
:
††  !
ReferentialAction
††" 3
.
††3 4
Cascade
††4 ;
)
††; <
;
††< =
table
°° 
.
°° 

ForeignKey
°° $
(
°°$ %
name
¢¢ 
:
¢¢ 
$str
¢¢ ;
,
¢¢; <
column
££ 
:
££ 
x
££  !
=>
££" $
x
££% &
.
££& '
BookId
££' -
,
££- .
principalTable
§§ &
:
§§& '
$str
§§( /
,
§§/ 0
principalColumn
•• '
:
••' (
$str
••) 0
,
••0 1
onDelete
¶¶  
:
¶¶  !
ReferentialAction
¶¶" 3
.
¶¶3 4
Cascade
¶¶4 ;
)
¶¶; <
;
¶¶< =
}
ßß 
)
ßß 
;
ßß 
migrationBuilder
©© 
.
©© 
CreateTable
©© (
(
©©( )
name
™™ 
:
™™ 
$str
™™ &
,
™™& '
columns
´´ 
:
´´ 
table
´´ 
=>
´´ !
new
´´" %
{
¨¨ 
BookId
≠≠ 
=
≠≠ 
table
≠≠ "
.
≠≠" #
Column
≠≠# )
<
≠≠) *
int
≠≠* -
>
≠≠- .
(
≠≠. /
nullable
≠≠/ 7
:
≠≠7 8
false
≠≠9 >
)
≠≠> ?
,
≠≠? @

CategoryId
ÆÆ 
=
ÆÆ  
table
ÆÆ! &
.
ÆÆ& '
Column
ÆÆ' -
<
ÆÆ- .
int
ÆÆ. 1
>
ÆÆ1 2
(
ÆÆ2 3
nullable
ÆÆ3 ;
:
ÆÆ; <
false
ÆÆ= B
)
ÆÆB C
}
ØØ 
,
ØØ 
constraints
∞∞ 
:
∞∞ 
table
∞∞ "
=>
∞∞# %
{
±± 
table
≤≤ 
.
≤≤ 

PrimaryKey
≤≤ $
(
≤≤$ %
$str
≤≤% 8
,
≤≤8 9
x
≤≤: ;
=>
≤≤< >
new
≤≤? B
{
≤≤C D
x
≤≤E F
.
≤≤F G
BookId
≤≤G M
,
≤≤M N
x
≤≤O P
.
≤≤P Q

CategoryId
≤≤Q [
}
≤≤\ ]
)
≤≤] ^
;
≤≤^ _
table
≥≥ 
.
≥≥ 

ForeignKey
≥≥ $
(
≥≥$ %
name
¥¥ 
:
¥¥ 
$str
¥¥ >
,
¥¥> ?
column
µµ 
:
µµ 
x
µµ  !
=>
µµ" $
x
µµ% &
.
µµ& '
BookId
µµ' -
,
µµ- .
principalTable
∂∂ &
:
∂∂& '
$str
∂∂( /
,
∂∂/ 0
principalColumn
∑∑ '
:
∑∑' (
$str
∑∑) 0
,
∑∑0 1
onDelete
∏∏  
:
∏∏  !
ReferentialAction
∏∏" 3
.
∏∏3 4
Cascade
∏∏4 ;
)
∏∏; <
;
∏∏< =
table
ππ 
.
ππ 

ForeignKey
ππ $
(
ππ$ %
name
∫∫ 
:
∫∫ 
$str
∫∫ G
,
∫∫G H
column
ªª 
:
ªª 
x
ªª  !
=>
ªª" $
x
ªª% &
.
ªª& '

CategoryId
ªª' 1
,
ªª1 2
principalTable
ºº &
:
ºº& '
$str
ºº( 4
,
ºº4 5
principalColumn
ΩΩ '
:
ΩΩ' (
$str
ΩΩ) 5
,
ΩΩ5 6
onDelete
ææ  
:
ææ  !
ReferentialAction
ææ" 3
.
ææ3 4
Cascade
ææ4 ;
)
ææ; <
;
ææ< =
}
øø 
)
øø 
;
øø 
migrationBuilder
¡¡ 
.
¡¡ 
CreateTable
¡¡ (
(
¡¡( )
name
¬¬ 
:
¬¬ 
$str
¬¬ )
,
¬¬) *
columns
√√ 
:
√√ 
table
√√ 
=>
√√ !
new
√√" %
{
ƒƒ 
Uid
≈≈ 
=
≈≈ 
table
≈≈ 
.
≈≈  
Column
≈≈  &
<
≈≈& '
Guid
≈≈' +
>
≈≈+ ,
(
≈≈, -
nullable
≈≈- 5
:
≈≈5 6
false
≈≈7 <
)
≈≈< =
,
≈≈= >
DownloadDate
∆∆  
=
∆∆! "
table
∆∆# (
.
∆∆( )
Column
∆∆) /
<
∆∆/ 0
DateTime
∆∆0 8
>
∆∆8 9
(
∆∆9 :
nullable
∆∆: B
:
∆∆B C
false
∆∆D I
)
∆∆I J
,
∆∆J K
UserUid
«« 
=
«« 
table
«« #
.
««# $
Column
««$ *
<
««* +
Guid
««+ /
>
««/ 0
(
««0 1
nullable
««1 9
:
««9 :
false
««; @
)
««@ A
,
««A B!
DownloadedBookBiaId
»» '
=
»»( )
table
»»* /
.
»»/ 0
Column
»»0 6
<
»»6 7
int
»»7 :
>
»»: ;
(
»»; <
nullable
»»< D
:
»»D E
true
»»F J
)
»»J K
}
…… 
,
…… 
constraints
   
:
   
table
   "
=>
  # %
{
ÀÀ 
table
ÃÃ 
.
ÃÃ 

PrimaryKey
ÃÃ $
(
ÃÃ$ %
$str
ÃÃ% ;
,
ÃÃ; <
x
ÃÃ= >
=>
ÃÃ? A
x
ÃÃB C
.
ÃÃC D
Uid
ÃÃD G
)
ÃÃG H
;
ÃÃH I
table
ÕÕ 
.
ÕÕ 

ForeignKey
ÕÕ $
(
ÕÕ$ %
name
ŒŒ 
:
ŒŒ 
$str
ŒŒ N
,
ŒŒN O
column
œœ 
:
œœ 
x
œœ  !
=>
œœ" $
x
œœ% &
.
œœ& '!
DownloadedBookBiaId
œœ' :
,
œœ: ;
principalTable
–– &
:
––& '
$str
––( /
,
––/ 0
principalColumn
—— '
:
——' (
$str
——) 0
,
——0 1
onDelete
““  
:
““  !
ReferentialAction
““" 3
.
““3 4
Restrict
““4 <
)
““< =
;
““= >
table
”” 
.
”” 

ForeignKey
”” $
(
””$ %
name
‘‘ 
:
‘‘ 
$str
‘‘ E
,
‘‘E F
column
’’ 
:
’’ 
x
’’  !
=>
’’" $
x
’’% &
.
’’& '
UserUid
’’' .
,
’’. /
principalTable
÷÷ &
:
÷÷& '
$str
÷÷( 2
,
÷÷2 3
principalColumn
◊◊ '
:
◊◊' (
$str
◊◊) .
,
◊◊. /
onDelete
ÿÿ  
:
ÿÿ  !
ReferentialAction
ÿÿ" 3
.
ÿÿ3 4
Cascade
ÿÿ4 ;
)
ÿÿ; <
;
ÿÿ< =
}
ŸŸ 
)
ŸŸ 
;
ŸŸ 
migrationBuilder
€€ 
.
€€ 
CreateTable
€€ (
(
€€( )
name
‹‹ 
:
‹‹ 
$str
‹‹ %
,
‹‹% &
columns
›› 
:
›› 
table
›› 
=>
›› !
new
››" %
{
ﬁﬁ 
Uid
ﬂﬂ 
=
ﬂﬂ 
table
ﬂﬂ 
.
ﬂﬂ  
Column
ﬂﬂ  &
<
ﬂﬂ& '
Guid
ﬂﬂ' +
>
ﬂﬂ+ ,
(
ﬂﬂ, -
nullable
ﬂﬂ- 5
:
ﬂﬂ5 6
false
ﬂﬂ7 <
)
ﬂﬂ< =
,
ﬂﬂ= >
	TakenDate
‡‡ 
=
‡‡ 
table
‡‡  %
.
‡‡% &
Column
‡‡& ,
<
‡‡, -
DateTime
‡‡- 5
>
‡‡5 6
(
‡‡6 7
nullable
‡‡7 ?
:
‡‡? @
false
‡‡A F
)
‡‡F G
,
‡‡G H
ExtendedDueDate
·· #
=
··$ %
table
··& +
.
··+ ,
Column
··, 2
<
··2 3
DateTime
··3 ;
>
··; <
(
··< =
nullable
··= E
:
··E F
false
··G L
)
··L M
,
··M N 
ExtendedTimesCount
‚‚ &
=
‚‚' (
table
‚‚) .
.
‚‚. /
Column
‚‚/ 5
<
‚‚5 6
int
‚‚6 9
>
‚‚9 :
(
‚‚: ;
nullable
‚‚; C
:
‚‚C D
false
‚‚E J
)
‚‚J K
,
‚‚K L
ReturnedDate
„„  
=
„„! "
table
„„# (
.
„„( )
Column
„„) /
<
„„/ 0
DateTime
„„0 8
>
„„8 9
(
„„9 :
nullable
„„: B
:
„„B C
true
„„D H
)
„„H I
,
„„I J
UserUid
‰‰ 
=
‰‰ 
table
‰‰ #
.
‰‰# $
Column
‰‰$ *
<
‰‰* +
Guid
‰‰+ /
>
‰‰/ 0
(
‰‰0 1
nullable
‰‰1 9
:
‰‰9 :
false
‰‰; @
)
‰‰@ A
,
‰‰A B
TakenBookBiaId
ÂÂ "
=
ÂÂ# $
table
ÂÂ% *
.
ÂÂ* +
Column
ÂÂ+ 1
<
ÂÂ1 2
int
ÂÂ2 5
>
ÂÂ5 6
(
ÂÂ6 7
nullable
ÂÂ7 ?
:
ÂÂ? @
true
ÂÂA E
)
ÂÂE F
}
ÊÊ 
,
ÊÊ 
constraints
ÁÁ 
:
ÁÁ 
table
ÁÁ "
=>
ÁÁ# %
{
ËË 
table
ÈÈ 
.
ÈÈ 

PrimaryKey
ÈÈ $
(
ÈÈ$ %
$str
ÈÈ% 7
,
ÈÈ7 8
x
ÈÈ9 :
=>
ÈÈ; =
x
ÈÈ> ?
.
ÈÈ? @
Uid
ÈÈ@ C
)
ÈÈC D
;
ÈÈD E
table
ÍÍ 
.
ÍÍ 

ForeignKey
ÍÍ $
(
ÍÍ$ %
name
ÎÎ 
:
ÎÎ 
$str
ÎÎ E
,
ÎÎE F
column
ÏÏ 
:
ÏÏ 
x
ÏÏ  !
=>
ÏÏ" $
x
ÏÏ% &
.
ÏÏ& '
TakenBookBiaId
ÏÏ' 5
,
ÏÏ5 6
principalTable
ÌÌ &
:
ÌÌ& '
$str
ÌÌ( /
,
ÌÌ/ 0
principalColumn
ÓÓ '
:
ÓÓ' (
$str
ÓÓ) 0
,
ÓÓ0 1
onDelete
ÔÔ  
:
ÔÔ  !
ReferentialAction
ÔÔ" 3
.
ÔÔ3 4
Restrict
ÔÔ4 <
)
ÔÔ< =
;
ÔÔ= >
table
 
.
 

ForeignKey
 $
(
$ %
name
ÒÒ 
:
ÒÒ 
$str
ÒÒ A
,
ÒÒA B
column
ÚÚ 
:
ÚÚ 
x
ÚÚ  !
=>
ÚÚ" $
x
ÚÚ% &
.
ÚÚ& '
UserUid
ÚÚ' .
,
ÚÚ. /
principalTable
ÛÛ &
:
ÛÛ& '
$str
ÛÛ( 2
,
ÛÛ2 3
principalColumn
ÙÙ '
:
ÙÙ' (
$str
ÙÙ) .
,
ÙÙ. /
onDelete
ıı  
:
ıı  !
ReferentialAction
ıı" 3
.
ıı3 4
Cascade
ıı4 ;
)
ıı; <
;
ıı< =
}
ˆˆ 
)
ˆˆ 
;
ˆˆ 
migrationBuilder
¯¯ 
.
¯¯ 
CreateTable
¯¯ (
(
¯¯( )
name
˘˘ 
:
˘˘ 
$str
˘˘ $
,
˘˘$ %
columns
˙˙ 
:
˙˙ 
table
˙˙ 
=>
˙˙ !
new
˙˙" %
{
˚˚ 
BookId
¸¸ 
=
¸¸ 
table
¸¸ "
.
¸¸" #
Column
¸¸# )
<
¸¸) *
int
¸¸* -
>
¸¸- .
(
¸¸. /
nullable
¸¸/ 7
:
¸¸7 8
false
¸¸9 >
)
¸¸> ?
,
¸¸? @

AppUserUid
˝˝ 
=
˝˝  
table
˝˝! &
.
˝˝& '
Column
˝˝' -
<
˝˝- .
Guid
˝˝. 2
>
˝˝2 3
(
˝˝3 4
nullable
˝˝4 <
:
˝˝< =
false
˝˝> C
)
˝˝C D
,
˝˝D E
Date
˛˛ 
=
˛˛ 
table
˛˛  
.
˛˛  !
Column
˛˛! '
<
˛˛' (
DateTime
˛˛( 0
>
˛˛0 1
(
˛˛1 2
nullable
˛˛2 :
:
˛˛: ;
false
˛˛< A
)
˛˛A B
}
ˇˇ 
,
ˇˇ 
constraints
ÄÄ 
:
ÄÄ 
table
ÄÄ "
=>
ÄÄ# %
{
ÅÅ 
table
ÇÇ 
.
ÇÇ 

PrimaryKey
ÇÇ $
(
ÇÇ$ %
$str
ÇÇ% 6
,
ÇÇ6 7
x
ÇÇ8 9
=>
ÇÇ: <
new
ÇÇ= @
{
ÇÇA B
x
ÇÇC D
.
ÇÇD E
BookId
ÇÇE K
,
ÇÇK L
x
ÇÇM N
.
ÇÇN O

AppUserUid
ÇÇO Y
}
ÇÇZ [
)
ÇÇ[ \
;
ÇÇ\ ]
table
ÉÉ 
.
ÉÉ 

ForeignKey
ÉÉ $
(
ÉÉ$ %
name
ÑÑ 
:
ÑÑ 
$str
ÑÑ C
,
ÑÑC D
column
ÖÖ 
:
ÖÖ 
x
ÖÖ  !
=>
ÖÖ" $
x
ÖÖ% &
.
ÖÖ& '

AppUserUid
ÖÖ' 1
,
ÖÖ1 2
principalTable
ÜÜ &
:
ÜÜ& '
$str
ÜÜ( 2
,
ÜÜ2 3
principalColumn
áá '
:
áá' (
$str
áá) .
,
áá. /
onDelete
àà  
:
àà  !
ReferentialAction
àà" 3
.
àà3 4
Cascade
àà4 ;
)
àà; <
;
àà< =
table
ââ 
.
ââ 

ForeignKey
ââ $
(
ââ$ %
name
ää 
:
ää 
$str
ää <
,
ää< =
column
ãã 
:
ãã 
x
ãã  !
=>
ãã" $
x
ãã% &
.
ãã& '
BookId
ãã' -
,
ãã- .
principalTable
åå &
:
åå& '
$str
åå( /
,
åå/ 0
principalColumn
çç '
:
çç' (
$str
çç) 0
,
çç0 1
onDelete
éé  
:
éé  !
ReferentialAction
éé" 3
.
éé3 4
Cascade
éé4 ;
)
éé; <
;
éé< =
}
èè 
)
èè 
;
èè 
migrationBuilder
ëë 
.
ëë 
CreateTable
ëë (
(
ëë( )
name
íí 
:
íí 
$str
íí 
,
íí  
columns
ìì 
:
ìì 
table
ìì 
=>
ìì !
new
ìì" %
{
îî 
Uid
ïï 
=
ïï 
table
ïï 
.
ïï  
Column
ïï  &
<
ïï& '
Guid
ïï' +
>
ïï+ ,
(
ïï, -
nullable
ïï- 5
:
ïï5 6
false
ïï7 <
)
ïï< =
,
ïï= >
BookId
ññ 
=
ññ 
table
ññ "
.
ññ" #
Column
ññ# )
<
ññ) *
int
ññ* -
>
ññ- .
(
ññ. /
nullable
ññ/ 7
:
ññ7 8
false
ññ9 >
)
ññ> ?
,
ññ? @
Text
óó 
=
óó 
table
óó  
.
óó  !
Column
óó! '
<
óó' (
string
óó( .
>
óó. /
(
óó/ 0
nullable
óó0 8
:
óó8 9
true
óó: >
)
óó> ?
,
óó? @
Rating
òò 
=
òò 
table
òò "
.
òò" #
Column
òò# )
<
òò) *
int
òò* -
>
òò- .
(
òò. /
nullable
òò/ 7
:
òò7 8
false
òò9 >
)
òò> ?
,
òò? @

RatedByUid
ôô 
=
ôô  
table
ôô! &
.
ôô& '
Column
ôô' -
<
ôô- .
Guid
ôô. 2
>
ôô2 3
(
ôô3 4
nullable
ôô4 <
:
ôô< =
false
ôô> C
)
ôôC D
}
öö 
,
öö 
constraints
õõ 
:
õõ 
table
õõ "
=>
õõ# %
{
úú 
table
ùù 
.
ùù 

PrimaryKey
ùù $
(
ùù$ %
$str
ùù% 1
,
ùù1 2
x
ùù3 4
=>
ùù5 7
x
ùù8 9
.
ùù9 :
Uid
ùù: =
)
ùù= >
;
ùù> ?
table
ûû 
.
ûû 

ForeignKey
ûû $
(
ûû$ %
name
üü 
:
üü 
$str
üü 7
,
üü7 8
column
†† 
:
†† 
x
††  !
=>
††" $
x
††% &
.
††& '
BookId
††' -
,
††- .
principalTable
°° &
:
°°& '
$str
°°( /
,
°°/ 0
principalColumn
¢¢ '
:
¢¢' (
$str
¢¢) 0
,
¢¢0 1
onDelete
££  
:
££  !
ReferentialAction
££" 3
.
££3 4
Cascade
££4 ;
)
££; <
;
££< =
table
§§ 
.
§§ 

ForeignKey
§§ $
(
§§$ %
name
•• 
:
•• 
$str
•• >
,
••> ?
column
¶¶ 
:
¶¶ 
x
¶¶  !
=>
¶¶" $
x
¶¶% &
.
¶¶& '

RatedByUid
¶¶' 1
,
¶¶1 2
principalTable
ßß &
:
ßß& '
$str
ßß( 2
,
ßß2 3
principalColumn
®® '
:
®®' (
$str
®®) .
,
®®. /
onDelete
©©  
:
©©  !
ReferentialAction
©©" 3
.
©©3 4
Cascade
©©4 ;
)
©©; <
;
©©< =
}
™™ 
)
™™ 
;
™™ 
migrationBuilder
¨¨ 
.
¨¨ 
CreateTable
¨¨ (
(
¨¨( )
name
≠≠ 
:
≠≠ 
$str
≠≠ '
,
≠≠' (
columns
ÆÆ 
:
ÆÆ 
table
ÆÆ 
=>
ÆÆ !
new
ÆÆ" %
{
ØØ 

AppUserUid
∞∞ 
=
∞∞  
table
∞∞! &
.
∞∞& '
Column
∞∞' -
<
∞∞- .
Guid
∞∞. 2
>
∞∞2 3
(
∞∞3 4
nullable
∞∞4 <
:
∞∞< =
false
∞∞> C
)
∞∞C D
,
∞∞D E
BookId
±± 
=
±± 
table
±± "
.
±±" #
Column
±±# )
<
±±) *
int
±±* -
>
±±- .
(
±±. /
nullable
±±/ 7
:
±±7 8
false
±±9 >
)
±±> ?
,
±±? @

UploadDate
≤≤ 
=
≤≤  
table
≤≤! &
.
≤≤& '
Column
≤≤' -
<
≤≤- .
DateTime
≤≤. 6
>
≤≤6 7
(
≤≤7 8
nullable
≤≤8 @
:
≤≤@ A
false
≤≤B G
)
≤≤G H
}
≥≥ 
,
≥≥ 
constraints
¥¥ 
:
¥¥ 
table
¥¥ "
=>
¥¥# %
{
µµ 
table
∂∂ 
.
∂∂ 

PrimaryKey
∂∂ $
(
∂∂$ %
$str
∂∂% 9
,
∂∂9 :
x
∂∂; <
=>
∂∂= ?
new
∂∂@ C
{
∂∂D E
x
∂∂F G
.
∂∂G H

AppUserUid
∂∂H R
,
∂∂R S
x
∂∂T U
.
∂∂U V
BookId
∂∂V \
}
∂∂] ^
)
∂∂^ _
;
∂∂_ `
table
∑∑ 
.
∑∑ 

ForeignKey
∑∑ $
(
∑∑$ %
name
∏∏ 
:
∏∏ 
$str
∏∏ F
,
∏∏F G
column
ππ 
:
ππ 
x
ππ  !
=>
ππ" $
x
ππ% &
.
ππ& '

AppUserUid
ππ' 1
,
ππ1 2
principalTable
∫∫ &
:
∫∫& '
$str
∫∫( 2
,
∫∫2 3
principalColumn
ªª '
:
ªª' (
$str
ªª) .
,
ªª. /
onDelete
ºº  
:
ºº  !
ReferentialAction
ºº" 3
.
ºº3 4
Cascade
ºº4 ;
)
ºº; <
;
ºº< =
table
ΩΩ 
.
ΩΩ 

ForeignKey
ΩΩ $
(
ΩΩ$ %
name
ææ 
:
ææ 
$str
ææ ?
,
ææ? @
column
øø 
:
øø 
x
øø  !
=>
øø" $
x
øø% &
.
øø& '
BookId
øø' -
,
øø- .
principalTable
¿¿ &
:
¿¿& '
$str
¿¿( /
,
¿¿/ 0
principalColumn
¡¡ '
:
¡¡' (
$str
¡¡) 0
,
¡¡0 1
onDelete
¬¬  
:
¬¬  !
ReferentialAction
¬¬" 3
.
¬¬3 4
Cascade
¬¬4 ;
)
¬¬; <
;
¬¬< =
}
√√ 
)
√√ 
;
√√ 
migrationBuilder
≈≈ 
.
≈≈ 
CreateTable
≈≈ (
(
≈≈( )
name
∆∆ 
:
∆∆ 
$str
∆∆ $
,
∆∆$ %
columns
«« 
:
«« 
table
«« 
=>
«« !
new
««" %
{
»» 
BookId
…… 
=
…… 
table
…… "
.
……" #
Column
……# )
<
……) *
int
……* -
>
……- .
(
……. /
nullable
……/ 7
:
……7 8
false
……9 >
)
……> ?
,
……? @
Uid
   
=
   
table
   
.
    
Column
    &
<
  & '
Guid
  ' +
>
  + ,
(
  , -
nullable
  - 5
:
  5 6
false
  7 <
)
  < =
}
ÀÀ 
,
ÀÀ 
constraints
ÃÃ 
:
ÃÃ 
table
ÃÃ "
=>
ÃÃ# %
{
ÕÕ 
table
ŒŒ 
.
ŒŒ 

PrimaryKey
ŒŒ $
(
ŒŒ$ %
$str
ŒŒ% 6
,
ŒŒ6 7
x
ŒŒ8 9
=>
ŒŒ: <
new
ŒŒ= @
{
ŒŒA B
x
ŒŒC D
.
ŒŒD E
Uid
ŒŒE H
,
ŒŒH I
x
ŒŒJ K
.
ŒŒK L
BookId
ŒŒL R
}
ŒŒS T
)
ŒŒT U
;
ŒŒU V
table
œœ 
.
œœ 

ForeignKey
œœ $
(
œœ$ %
name
–– 
:
–– 
$str
–– <
,
––< =
column
—— 
:
—— 
x
——  !
=>
——" $
x
——% &
.
——& '
BookId
——' -
,
——- .
principalTable
““ &
:
““& '
$str
““( /
,
““/ 0
principalColumn
”” '
:
””' (
$str
””) 0
,
””0 1
onDelete
‘‘  
:
‘‘  !
ReferentialAction
‘‘" 3
.
‘‘3 4
Cascade
‘‘4 ;
)
‘‘; <
;
‘‘< =
table
’’ 
.
’’ 

ForeignKey
’’ $
(
’’$ %
name
÷÷ 
:
÷÷ 
$str
÷÷ <
,
÷÷< =
column
◊◊ 
:
◊◊ 
x
◊◊  !
=>
◊◊" $
x
◊◊% &
.
◊◊& '
Uid
◊◊' *
,
◊◊* +
principalTable
ÿÿ &
:
ÿÿ& '
$str
ÿÿ( 2
,
ÿÿ2 3
principalColumn
ŸŸ '
:
ŸŸ' (
$str
ŸŸ) .
,
ŸŸ. /
onDelete
⁄⁄  
:
⁄⁄  !
ReferentialAction
⁄⁄" 3
.
⁄⁄3 4
Cascade
⁄⁄4 ;
)
⁄⁄; <
;
⁄⁄< =
}
€€ 
)
€€ 
;
€€ 
migrationBuilder
›› 
.
›› 
CreateIndex
›› (
(
››( )
name
ﬁﬁ 
:
ﬁﬁ 
$str
ﬁﬁ ,
,
ﬁﬁ, -
table
ﬂﬂ 
:
ﬂﬂ 
$str
ﬂﬂ &
,
ﬂﬂ& '
column
‡‡ 
:
‡‡ 
$str
‡‡ 
)
‡‡ 
;
‡‡ 
migrationBuilder
‚‚ 
.
‚‚ 
CreateIndex
‚‚ (
(
‚‚( )
name
„„ 
:
„„ 
$str
„„ 0
,
„„0 1
table
‰‰ 
:
‰‰ 
$str
‰‰ $
,
‰‰$ %
column
ÂÂ 
:
ÂÂ 
$str
ÂÂ #
)
ÂÂ# $
;
ÂÂ$ %
migrationBuilder
ÁÁ 
.
ÁÁ 
CreateIndex
ÁÁ (
(
ÁÁ( )
name
ËË 
:
ËË 
$str
ËË 4
,
ËË4 5
table
ÈÈ 
:
ÈÈ 
$str
ÈÈ '
,
ÈÈ' (
column
ÍÍ 
:
ÍÍ 
$str
ÍÍ $
)
ÍÍ$ %
;
ÍÍ% &
migrationBuilder
ÏÏ 
.
ÏÏ 
CreateIndex
ÏÏ (
(
ÏÏ( )
name
ÌÌ 
:
ÌÌ 
$str
ÌÌ /
,
ÌÌ/ 0
table
ÓÓ 
:
ÓÓ 
$str
ÓÓ 
,
ÓÓ 
column
ÔÔ 
:
ÔÔ 
$str
ÔÔ (
)
ÔÔ( )
;
ÔÔ) *
migrationBuilder
ÒÒ 
.
ÒÒ 
CreateIndex
ÒÒ (
(
ÒÒ( )
name
ÚÚ 
:
ÚÚ 
$str
ÚÚ @
,
ÚÚ@ A
table
ÛÛ 
:
ÛÛ 
$str
ÛÛ *
,
ÛÛ* +
column
ÙÙ 
:
ÙÙ 
$str
ÙÙ -
)
ÙÙ- .
;
ÙÙ. /
migrationBuilder
ˆˆ 
.
ˆˆ 
CreateIndex
ˆˆ (
(
ˆˆ( )
name
˜˜ 
:
˜˜ 
$str
˜˜ 4
,
˜˜4 5
table
¯¯ 
:
¯¯ 
$str
¯¯ *
,
¯¯* +
column
˘˘ 
:
˘˘ 
$str
˘˘ !
)
˘˘! "
;
˘˘" #
migrationBuilder
˚˚ 
.
˚˚ 
CreateIndex
˚˚ (
(
˚˚( )
name
¸¸ 
:
¸¸ 
$str
¸¸ 7
,
¸¸7 8
table
˝˝ 
:
˝˝ 
$str
˝˝ &
,
˝˝& '
column
˛˛ 
:
˛˛ 
$str
˛˛ (
)
˛˛( )
;
˛˛) *
migrationBuilder
ÄÄ 
.
ÄÄ 
CreateIndex
ÄÄ (
(
ÄÄ( )
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ 0
,
ÅÅ0 1
table
ÇÇ 
:
ÇÇ 
$str
ÇÇ &
,
ÇÇ& '
column
ÉÉ 
:
ÉÉ 
$str
ÉÉ !
)
ÉÉ! "
;
ÉÉ" #
migrationBuilder
ÖÖ 
.
ÖÖ 
CreateIndex
ÖÖ (
(
ÖÖ( )
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ 2
,
ÜÜ2 3
table
áá 
:
áá 
$str
áá %
,
áá% &
column
àà 
:
àà 
$str
àà $
)
àà$ %
;
àà% &
migrationBuilder
ää 
.
ää 
CreateIndex
ää (
(
ää( )
name
ãã 
:
ãã 
$str
ãã )
,
ãã) *
table
åå 
:
åå 
$str
åå  
,
åå  !
column
çç 
:
çç 
$str
çç  
)
çç  !
;
çç! "
migrationBuilder
èè 
.
èè 
CreateIndex
èè (
(
èè( )
name
êê 
:
êê 
$str
êê -
,
êê- .
table
ëë 
:
ëë 
$str
ëë  
,
ëë  !
column
íí 
:
íí 
$str
íí $
)
íí$ %
;
íí% &
migrationBuilder
îî 
.
îî 
CreateIndex
îî (
(
îî( )
name
ïï 
:
ïï 
$str
ïï 1
,
ïï1 2
table
ññ 
:
ññ 
$str
ññ (
,
ññ( )
column
óó 
:
óó 
$str
óó  
)
óó  !
;
óó! "
migrationBuilder
ôô 
.
ôô 
CreateIndex
ôô (
(
ôô( )
name
öö 
:
öö 
$str
öö .
,
öö. /
table
õõ 
:
õõ 
$str
õõ %
,
õõ% &
column
úú 
:
úú 
$str
úú  
)
úú  !
;
úú! "
}
ùù 	
	protected
üü 
override
üü 
void
üü 
Down
üü  $
(
üü$ %
MigrationBuilder
üü% 5
migrationBuilder
üü6 F
)
üüF G
{
†† 	
migrationBuilder
°° 
.
°° 
	DropTable
°° &
(
°°& '
name
¢¢ 
:
¢¢ 
$str
¢¢ %
)
¢¢% &
;
¢¢& '
migrationBuilder
§§ 
.
§§ 
	DropTable
§§ &
(
§§& '
name
•• 
:
•• 
$str
•• $
)
••$ %
;
••% &
migrationBuilder
ßß 
.
ßß 
	DropTable
ßß &
(
ßß& '
name
®® 
:
®® 
$str
®® #
)
®®# $
;
®®$ %
migrationBuilder
™™ 
.
™™ 
	DropTable
™™ &
(
™™& '
name
´´ 
:
´´ 
$str
´´ &
)
´´& '
;
´´' (
migrationBuilder
≠≠ 
.
≠≠ 
	DropTable
≠≠ &
(
≠≠& '
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ )
)
ÆÆ) *
;
ÆÆ* +
migrationBuilder
∞∞ 
.
∞∞ 
	DropTable
∞∞ &
(
∞∞& '
name
±± 
:
±± 
$str
±± $
)
±±$ %
;
±±% &
migrationBuilder
≥≥ 
.
≥≥ 
	DropTable
≥≥ &
(
≥≥& '
name
¥¥ 
:
¥¥ 
$str
¥¥ %
)
¥¥% &
;
¥¥& '
migrationBuilder
∂∂ 
.
∂∂ 
	DropTable
∂∂ &
(
∂∂& '
name
∑∑ 
:
∑∑ 
$str
∑∑ $
)
∑∑$ %
;
∑∑% &
migrationBuilder
ππ 
.
ππ 
	DropTable
ππ &
(
ππ& '
name
∫∫ 
:
∫∫ 
$str
∫∫ 
)
∫∫  
;
∫∫  !
migrationBuilder
ºº 
.
ºº 
	DropTable
ºº &
(
ºº& '
name
ΩΩ 
:
ΩΩ 
$str
ΩΩ '
)
ΩΩ' (
;
ΩΩ( )
migrationBuilder
øø 
.
øø 
	DropTable
øø &
(
øø& '
name
¿¿ 
:
¿¿ 
$str
¿¿ $
)
¿¿$ %
;
¿¿% &
migrationBuilder
¬¬ 
.
¬¬ 
	DropTable
¬¬ &
(
¬¬& '
name
√√ 
:
√√ 
$str
√√ 
)
√√  
;
√√  !
migrationBuilder
≈≈ 
.
≈≈ 
	DropTable
≈≈ &
(
≈≈& '
name
∆∆ 
:
∆∆ 
$str
∆∆ "
)
∆∆" #
;
∆∆# $
migrationBuilder
»» 
.
»» 
	DropTable
»» &
(
»»& '
name
…… 
:
…… 
$str
…… 
)
…… 
;
…… 
migrationBuilder
ÀÀ 
.
ÀÀ 
	DropTable
ÀÀ &
(
ÀÀ& '
name
ÃÃ 
:
ÃÃ 
$str
ÃÃ  
)
ÃÃ  !
;
ÃÃ! "
}
ÕÕ 	
}
ŒŒ 
}œœ Ä
wC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Migrations\20231009135839_PropertySaveBehavior.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
.' (

Migrations( 2
{ 
public 

partial 
class  
PropertySaveBehavior -
:. /
	Migration0 9
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
}

 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} Ä
wC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Migrations\20231116094055_AdminNotifyEditModel.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
.' (

Migrations( 2
{ 
public 

partial 
class  
AdminNotifyEditModel -
:. /
	Migration0 9
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
DropPrimaryKey

 +
(

+ ,
name 
: 
$str (
,( )
table 
: 
$str &
)& '
;' (
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str &
,& '
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
. 

Annotation 
( 
$str ;
,; <(
MySqlValueGenerationStrategy= Y
.Y Z
IdentityColumnZ h
)h i
;i j
migrationBuilder 
. 
AddPrimaryKey *
(* +
name 
: 
$str (
,( )
table 
: 
$str &
,& '
column 
: 
$str 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
DropPrimaryKey +
(+ ,
name 
: 
$str (
,( )
table 
: 
$str &
)& '
;' (
migrationBuilder!! 
.!! 

DropColumn!! '
(!!' (
name"" 
:"" 
$str"" 
,"" 
table## 
:## 
$str## &
)##& '
;##' (
migrationBuilder%% 
.%% 
AddPrimaryKey%% *
(%%* +
name&& 
:&& 
$str&& (
,&&( )
table'' 
:'' 
$str'' &
,''& '
column(( 
:(( 
$str(( "
)((" #
;((# $
})) 	
}** 
}++ ”
RC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\PaperBook.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[		 
DataContract		 
]		 
public

 

class

 
	PaperBook

 
:

 
Book

 !
{ 
public 
	PaperBook 
( 
) 
{ 	
} 	
public 
	PaperBook 
( 
ILazyLoader $

lazyLoader% /
)/ 0
:1 2
base3 7
(7 8

lazyLoader8 B
)B C
{ 	
} 	
[ 	

DataMember	 
( 
EmitDefaultValue $
=% &
false' ,
), -
]- .
public 
DateTime 
? 
TakenDue !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Guid 
? 
TakenByUserUid #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
AppUser 
TakenByUser "
{ 	
get 
=> 
base 
. 
	GetLoader !
(! "
)" #
.# $
Load$ (
(( )
this) -
,- .
ref/ 2
_takenByUser3 ?
)? @
;@ A
set 
=> 
_takenByUser 
=  !
value" '
;' (
} 	
private   
AppUser   
_takenByUser   $
;  $ %
public"" 
ICollection"" 
<"" 
RentHistory"" &
>""& '
RentHistory""( 3
{## 	
get$$ 
=>$$ 
base$$ 
.$$ 
	GetLoader$$ !
($$! "
)$$" #
.$$# $
Load$$$ (
($$( )
this$$) -
,$$- .
ref$$/ 2
_rentHistory$$3 ?
)$$? @
;$$@ A
set%% 
=>%% 
_rentHistory%% 
=%%  !
value%%" '
;%%' (
}&& 	
private(( 
ICollection(( 
<(( 
RentHistory(( '
>((' (
_rentHistory(() 5
;((5 6
})) 
}** Â
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\RentHistory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[ 
DataContract 
] 
public 

class 
RentHistory 
{ 
[ 	
Key	 
] 
[ 	

DataMember	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
[ 	

DataMember	 
] 
public 
DateTime 
	TakenDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	

DataMember	 
( 
EmitDefaultValue $
=% &
false' ,
), -
]- .
public 
DateTime 
ExtendedDueDate '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
[ 	

DataMember	 
] 
public 
int 
ExtendedTimesCount %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public!! 
DateTime!! 
?!! 
ReturnedDate!! %
{!!& '
get!!( +
;!!+ ,
set!!- 0
;!!0 1
}!!2 3
public## 
AppUser## 
User## 
{$$ 	
get%% 
=>%% 

LazyLoader%% 
.%% 
Load%% "
(%%" #
this%%# '
,%%' (
ref%%) ,
_user%%- 2
)%%2 3
;%%3 4
set&& 
=>&& 
_user&& 
=&& 
value&&  
;&&  !
}'' 	
private(( 
AppUser(( 
_user(( 
;(( 
public** 
	PaperBook** 
	TakenBook** "
{++ 	
get,, 
=>,, 

LazyLoader,, 
.,, 
Load,, "
(,," #
this,,# '
,,,' (
ref,,) ,

_takenBook,,- 7
),,7 8
;,,8 9
set-- 
=>-- 

_takenBook-- 
=-- 
value--  %
;--% &
}.. 	
private// 
	PaperBook// 

_takenBook// $
;//$ %
private11 
ILazyLoader11 

LazyLoader11 &
{11' (
get11) ,
;11, -
set11. 1
;111 2
}113 4
public33 
RentHistory33 
(33 
)33 
{44 	
}66 	
public88 
RentHistory88 
(88 
ILazyLoader88 &

lazyLoader88' 1
)881 2
{99 	

LazyLoader:: 
=:: 

lazyLoader:: #
;::# $
};; 	
}<< 
}== ˙
TC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\RequestBook.cs
	namespace		 	
Bia		
 
.		 
Internal		 
.		 
BookLibrary		 "
.		" #
Data		# '
{

 
[ 
DataContract 
] 
public 

class 
RequestBook 
{ 
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
Guid 

AppUserUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_book- 2
)2 3
;3 4
set 
=> 
_book 
= 
value  
;  !
} 	
private 
Book 
_book 
; 
public 
AppUser 
AppUser 
{ 	
get   
=>   

LazyLoader   
.   
Load   "
(  " #
this  # '
,  ' (
ref  ) ,
_appUser  - 5
)  5 6
;  6 7
set!! 
=>!! 
_appUser!! 
=!! 
value!! #
;!!# $
}"" 	
private$$ 
AppUser$$ 
_appUser$$  
;$$  !
private&& 
ILazyLoader&& 

LazyLoader&& &
{&&' (
get&&) ,
;&&, -
set&&. 1
;&&1 2
}&&3 4
public(( 
RequestBook(( 
((( 
)(( 
{)) 	
}++ 	
public,, 
RequestBook,, 
(,, 
ILazyLoader,, &

lazyLoader,,' 1
),,1 2
{-- 	

LazyLoader.. 
=.. 

lazyLoader.. #
;..# $
}// 	
}00 
}11 á
OC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\Review.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{		 
public 

class 
Review 
{ 
[ 	
Key	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Text 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Rating 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
Guid 

RatedByUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
AppUser 
RatedBy 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_ratedBy- 5
)5 6
;6 7
set 
=> 
_ratedBy 
= 
value #
;# $
} 	
private 
AppUser 
_ratedBy  
;  !
public   
Book   
Book   
{!! 	
get"" 
=>"" 

LazyLoader"" 
."" 
Load"" "
(""" #
this""# '
,""' (
ref"") ,
_book""- 2
)""2 3
;""3 4
set## 
=>## 
_book## 
=## 
value##  
;##  !
}$$ 	
private%% 
Book%% 
_book%% 
;%% 
private(( 
ILazyLoader(( 

LazyLoader(( &
{((' (
get(() ,
;((, -
set((. 1
;((1 2
}((3 4
public** 
Review** 
(** 
)** 
{++ 	
}-- 	
public// 
Review// 
(// 
ILazyLoader// !

lazyLoader//" ,
)//, -
{00 	

LazyLoader11 
=11 

lazyLoader11 #
;11# $
}22 	
}33 
}44 ï
JC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\S.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
public 

class 
S 
{		 
public

 
const

 
string

 

NLogConfig

 &
=

' (
$str

) 6
;

6 7
public 
const 
string  
ConnectionStringName 0
=1 2
$str3 A
;A B
public 
const 
string 
AccessLevelClaim ,
=- .
$str/ <
;< =
public 
const 
string 
	Developer %
=& '
$str( 3
;3 4
public 
const 
string 
Admin !
=" #
$str$ +
;+ ,
public 
const 
string 
Common "
=# $
$str% -
;- .
public 
const 
string 
GroupDeveloper *
=+ ,
$str- =
;= >
public 
const 
string 

GroupAdmin &
=' (
$str) 5
;5 6
public 
const 
string 
GroupCommon '
=( )
$str* 7
;7 8
private 
const 
string 
CommSep $
=% &
$str' *
;* +
public 
const 
string 
CommonAccess (
=) *
	Developer+ 4
+6 7
CommSep9 @
+A B
CommonC I
;I J
public 
const 
string 
AdminAccess '
=( )
	Developer* 3
+4 5
CommSep6 =
+> ?
Admin@ E
;E F
} 
} ≤
VC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\UploadHistory.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[ 
DataContract 
] 
public 

class 
UploadHistory 
{ 
[ 	

DataMember	 
] 
public 
DateTime 

UploadDate "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
AppUser 
User 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_user- 2
)2 3
;3 4
set 
=> 
_user 
= 
value  
;  !
} 	
private 
AppUser 
_user 
; 
[ 	

DataMember	 
] 
public 
Guid 

AppUserUid 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_book- 2
)2 3
;3 4
set 
=> 
_book 
= 
value  
;  !
}   	
private!! 
Book!! 
_book!! 
;!! 
["" 	

DataMember""	 
]"" 
public## 
int## 
BookId## 
{## 
get## 
;##  
set##! $
;##$ %
}##& '
private%% 
ILazyLoader%% 

LazyLoader%% &
{%%' (
get%%) ,
;%%, -
set%%. 1
;%%1 2
}%%3 4
public'' 
UploadHistory'' 
('' 
)'' 
{(( 	
}** 	
public,, 
UploadHistory,, 
(,, 
ILazyLoader,, (

lazyLoader,,) 3
),,3 4
{-- 	

LazyLoader.. 
=.. 

lazyLoader.. #
;..# $
}// 	
}11 
}22 ’
SC:\vsproj\beck\bia.internal.booklibrary\Bia.Internal.BookLibrary.Data\UserNotify.cs
	namespace 	
Bia
 
. 
Internal 
. 
BookLibrary "
." #
Data# '
{ 
[		 
DataContract		 
]		 
public

 

class

 

UserNotify

 
{ 
[ 	

DataMember	 
] 
public 
int 
BookId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

DataMember	 
] 
public 
Guid 
Uid 
{ 
get 
; 
set "
;" #
}$ %
public 
Book 
Book 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_book- 2
)2 3
;3 4
set 
=> 
_book 
= 
value  
;  !
} 	
private 
Book 
_book 
; 
public 
AppUser 
AppUser 
{ 	
get 
=> 

LazyLoader 
. 
Load "
(" #
this# '
,' (
ref) ,
_appUser- 5
)5 6
;6 7
set 
=> 
_appUser 
= 
value #
;# $
} 	
private 
AppUser 
_appUser  
;  !
private 
ILazyLoader 

LazyLoader &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public!! 

UserNotify!! 
(!! 
)!! 
{"" 	
}$$ 	
public%% 

UserNotify%% 
(%% 
ILazyLoader%% %

lazyLoader%%& 0
)%%0 1
{&& 	

LazyLoader'' 
='' 

lazyLoader'' #
;''# $
}(( 	
}** 
}++ 